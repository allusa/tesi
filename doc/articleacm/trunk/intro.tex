


\section{Introduction}

Information collection processes are growing in quantity as a
consequence of the emergence of embedded systems and sensor networks.
Nowadays it is possible to collect large amounts of data to
monitor and control complex systems.

This information must be managed by systems in order to detect
eventual sensor failures or malfunctions and possibly to reconstruct
the incorrect signals. Acquired data instance are bound to a time
stamp, therefore correctness criteria must include both date and its
time stamp. The sequences of data values collected at specific time
instants are formalised as time series.

Time series are defined as a collection of observations made
chronologically. Time series are usually stored and managed by SQL
relational database management systems. However, using SQL systems as
a time series backend suffers some drawbacks
\cite{dreyer94,schmidt95,stonebraker09:scidb,zhang11}.  In other
fields performance and flexibility of SQL systems is considered and
alternative NoSQL products are being developed
\cite{atzeni13:relational_model_dead,stonebraker10}.

In general, time series come from a continuous nature in which they
are recorded at regular intervals, such as hourly or daily, or at
irregular intervals, such as recording when a pump is open or closed.
One problem when dealing with time series data results from the fact
that these data are often voluminous \cite{fu11,keogh08:isax}. As a
result, efficiently storing and accessing them can be complex. Moreover, this is
specially critical when developing small embedded systems, whose
resources (capacity, energy, processing and communications) suffer
restrictions \cite{yaogehrke02}.  Another problem is that the
procedure of processing and synthesising information becomes
difficult if data is not equi-time spaced.

The propose of time series data mining is to apply time series
analysis methods when having huge amount of data.  One approach is to
find the optimal solution approximation versus cost to the original signal
and then compute analysis such as similarity or pattern search
\cite{fu11,keogh01,last01}. On another approach we propose a lossy storage
solution that selects only the needed information. We call it
multiresolution. The concept is similar to multimedia lossy
compression methods, where information can be discarded in favour of
size, but applied to time series.
% In multimedia compression a dual storage can be used for a file: 
% first it is lossless compressed to offline storage and rarely retrievals, and second it is lossy compressed to have less size and be more manageable.

\todo{Potser dir que hi ha un SGBD que és RRDtool}
, que és molt usat en l'àmbit de xarxa, que té una manera especial d'emmagatzemar les dades, que volem proposar un model formal per a aquest tractament per tal de generalitzar les operacions que s'hi poden fer (RRDtool és molt restringit perquè està pensat per a un camp molt específic: el de comptadors de xarxa) i poder-lo aplicar en altres camps, a part d'establir un model formal al qual s'hi puguin realitzar estudis formals de teoria de bases de dades.

%TSMS

This paper focuses on Data Base Management Systems \linebreak[4]
(\acro{DBMS}) that store and treat data as time series. These are
usually known as Time Series Data Base Management Systems
(\acro{TSMS}), \cite{dreyer94,last01}.  We introduce a new data model
named multiresolution \acro{TSMS} (\acro{MTSMS}). This model organises
data in an aggregated way and it allows to store time series using
different time resolutions. It is designed to cope well with bounded
storage computers such as sensor systems.  We describe our model in
two separated submodels, one a TSMS model mainly for describing time
series and the other a MTSMS model for describing multiresolution over
time series.\todo{}



This manuscript is organised as follows.  A summary of multiresolution
features is shown in Section~\ref{sec:features}.  The \acro{TSMS}
model is presented in Section~\ref{sec:model:TSMS} and the
\acro{MTSMS} model is presented in Section~\ref{sec:MTSMS}. In
Section~\ref{sec:M+TSMS} the relation between \acro{MTSMS} and
\acro{TSMS} models is highlighted.
% Section~\ref{sec:example} is devoted to a real data multiresolution
% database example.
In Section~\ref{sec:related-work} some related work concerning
\acro{TSMS} and \acro{MTSMS} are presented. Finally,
Section~\ref{sec:concl-future-work} offers some conclusions.



\section{Multiresolution features}
\label{sec:features}

A \acro{TSMS} is a special purpose \acro{DBMS} devoted to store and
manage time series.  The main objective of \acro{TSMS} is to gather
two areas of study: time series analysis and \acro{DBMS}.  Time series
analysis formalises a great amount of algorithms and methodologies
that apply to time series, with a main focus on improving
efficiency. \acro{DBMS} theory formalises systems that store and
operate with data, currently the relational model is the referent
\cite{date:introduction}.

In time series analysis there are some common generic operations.
Most of these operations deal with the time given the nature of data.
Usual operations include the query of time intervals, to find time
correlations, or to calculate distances between two time series. In
all these operations \acro{TSMS} must consider the temporal coherence
of the time series.  In the context of statistics, aggregation of time
series is also a common operation. Aggregate means to summarise a time
series subset by a smaller set of measures. Statistic indicators like
the mean, the maximum, or the mode, for instance, summarise time
series into an only measure.

A time series is defined discrete as a set of value and time
pairs. Furthermore, a time series has a continuous nature as it comes
from a phenomena evolution along time. As a result, \acro{TSMS}
operations may deal with this time series nature by methods of
interpolation or approximation.


A \acro{MTSMS} is a \acro{TSMS} with multiresolution capabilities.  A
\acro{MTSMS} schema represents a time series using a set of different
resolutions.  The multiresolution concept comes from thoroughly
analysis of a TSMS called RRDtool \cite{rrdtool}. Our objective is to
formalise the main concepts into an abstract model and to include more
genericity in order to describe \acro{MTSMS} as fully \acro{TSMS}.

%Then we will be able to apply these systems to other applications.


\acro{MTSMS} improve \acro{TSMS} features in various aspects:
\begin{itemize}

\item Voluminous data. Monitoring systems capture a huge amount of
  data from sensors. In order to be able to process this information,
  data volume must be reduced. One of the features of the
  multiresolution approach is to select and store only the most
  interesting segments of data. This segments are seen as different
  resolutions for the same time series and the user can configure how
  they are extracted and summarised by defining different time steps
  and functions. Multiresolution can also be useful when graphing time
  series allowing the user to select the best time range and time
  step that fits into the screen; there is no need to process with
  more quantity of data than the one that can be
  shown.% In figure~\ref{fig:mtsms:sequence} there is an example of
  % extracting two resolutions: one every three units of time and
  % another every five.

\item Data validation. Monitoring systems capture data but can occur
  some drawbacks that will affect later the process of time series
  analysis. Main problems are found when monitors can not capture
  data, known as gaps, or capture data erroneously, such as outlayers
  \cite{quevedo10}.  The multiresolution attribute functions is
  designed to cope well with validating, filtering and reconstructing
  with this unknown data in order to keep a consistent
  historic.% In figure~\ref{fig:mtsms:sequence-irregular} an
  % example of a gap can be seen.

\item Data time regularising. Another monitoring side effect happens
  when the sampling rate is not constant, that is when the resulting
  data is not equi-time spaced. This no regularities can come from
  sampling jitters in periodic sampling or from no periodic
  event-based sampling \cite{kopetz11:realtime}. A multiresolution
  consolidation objective is to regularise the time interval when
  processing a time series, therefore each resulting time series
  segment has a regular time resolution. This regularising approach
  could also be used when the user wants to consult another resolution
  for a time series, such as changing periodic data from a month to a
  year step. % In
  % figure~\ref{fig:mtsms:sequence-irregular} an example of time
  % regularising can be seen.

\item Information summaries. Time series analysis typically focuses on
  reconstructing the original signal. However, the user objective in a
  database system is to consult some information. The multiresolution
  approach allows a lossy compression storage solution for data. Therefore
  it can be regarded as to extracting the interesting information and
  then storing it. The selected information must be determined a
  priori assuming the context where the future queries will be done.
  % In
  % figure~\ref{fig:mtsms:sequence} there is an example of summarising by
  % mean attribute.
\end{itemize}


However sometimes it may also be useful to complement \acro{MTSMS}
with other \acro{DBMS}. Not only to store the original values as a
long-term deposit consulted offline, but also to store related
information to time series such as units of values, sensor
localisation, classification tags, last measured value, etc.



\subsection{Motivation example}
%We give a motivation example of multiresolution applied to a time series.  

Figure~\ref{fig:mtsms:sequence} shows an example of a multiresolution
summary for a time series. It shows a snapshot in time, suppose
between time 9 and 10. At the top of the figure there is a plot of a
time series with time axis in general units of time (u.t.) and with
value axis in undetermined units. The 'now' point shows when the
snapshot has been taken, so the time before is the past and the time
after is the future, which is grey coloured. The \emph{init} point
shows when the database system has started sampling, so data in time
before is unknown; the starting point is indicated as zero u.t.\ and
the earlier unknown time points have negative units.


\begin{figure}
  \centering
  \input{imatges/mtsms_sequence.tex}
  \caption{Multiresolution snapshot diagram with regular sampling}
  \label{fig:mtsms:sequence}
\end{figure}


% \begin{figure}[tp]
%   \centering
%   \input{imatges/mtsms_sequence_irregular.tex}
%   \caption{Multiresolution snapshot diagram with irregular sampling}
%   \label{fig:mtsms:sequence-irregular}
% \end{figure}



At the bottom of Figure~\ref{fig:mtsms:sequence} there is a diagram
showing the multiresolution action. The first row shows the numerical
time series' values corresponding to the above plot; the time series
is sampled every one unit of time. The second and the third row show a
particular schema of a multiresolution database consisting in two time
resolutions for the time series: one computes the mean of the sampled
values every three u.t.\ and the other computes the mean every five
u.t. In this example, computing the mean acts as selecting information
by aggregate statistics. All data stored before zero time is unknown
(\emph{u}) as has not been acquired. For the future values it is also
marked as \emph{u} until time advances.

The arrows of the figure show that every three sampled values a mean
is stored and, independently, every five values another mean is
stored. For the future values, dashed arrows show that if time
advances one u.t.\ then value 10 is sampled and the mean for time 10
can be computed resulting 8 but not yet the mean for time 12.

% Fig.~\ref{fig:mtsms:sequence-irregular} is essentially the same but
% showing two possible monitoring irregularities: a gap and a time
% disruption. In other words, we want to sample the time series every 2
% u.t.\ but first for some reason it can not be done in time 4 and
% second the sampling clock is disrupted and samples are done in time 7
% and 9 instead of 8. The resulting stored time schema is the same: on
% time resolution every 3 u.t.\ and the other every 5 u.t.; that is,
% without time disruptions. The resulting stored values are computed
% from the known sampled values, some coincide with
% fig.~\ref{fig:mtsms:sequence} whereas some differ specially in the
% gap. A better function than mean would solve this, we extend this
% further in section~\ref{sec:model:interpolador}.



%%% Local Variables:
%%% TeX-master: "main"
%%% ispell-local-dictionary: "british"
%%% End:

%  LocalWords:  multiresolution TSMS MTSMS
