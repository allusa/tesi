\section{Sistemes de gestió de bases de dades}
\sectionmark{SGBD}
\label{sec:art:sgbd}


Segons \textcite{date:introduction}, ``una base de dades és un
contenidor informàtic persistent per a una co\l.lecció de dades''. El
sistemes informàtics que tracten amb bases de dades s'anomenen
sistemes de gestió de bases de dades (SGBD, \emph{Data Base Management
  Systems}) i tenen els objectius d'emmagatzemar informació i permetre
consultar i modificar aquesta informació per part dels usuaris.  Per
complir aquests objectius, els SGBD ofereixen a l'usuari diferents
operacions com per exemple crear una base de dades, afegir dades o
operar amb les dades emmagatzemades. 

Els àmbits d'aplicació dels SGBD són varis: operacions repetitives i
rutinàries de producció, anomenades \emph{online transaction
  processing}; sistemes per a prendre decisions empresarials, a
vegades anomenats \emph{data warehouse}; processament de dades
científiques; etc.  Alguns dels avantatges de gestionar aquestes dades
en bases de dades són: evitar la disgregació de la informació i
tenir-la perfectament organitzada, poder compartir la mateixa
informació entre diverses aplicacions, garantir la consistència i la
integritat de les dades i evitar redundàncies innecessàries, afegir
seguretat a la gestió de les dades o optimitzar les consultes que
l'usuari so\l.licita.


Els SGBD es poden descriure mitjançant teories matemàtiques que reben
el nom de \emph{model de dades}.  Segons
\citeauthor{date:introduction}, ``un model de dades és una definició
abstracta, auto continguda i lògica dels objectes, de les operacions i
de la resta que conjuntament constitueixen la màquina abstracta amb
què els usuaris interaccionen. Els objectes permeten modelar
l'estructura de les dades. Les operacions permeten modelar el
comportament''. Ara bé, \citeauthor{date:introduction} avisa que el
concepte \emph{model de dades} també s'usa per a definir una
estructura o esquema persistent de dades concreta i, per tant, cal distingir
adequadament entre tots dos significats.  Tal com fa Date, en aquest
document parlarem de model de dades, o simplement de model, en el
primer sentit de màquina abstracta. També distingeix entre els
conceptes de \emph{dades} --allò que està emmagatzemat a la base de
dades-- i \emph{informació} --el significat que algú dóna a aquestes
dades.


Un model de SGBD que ha s'ha consolidat i ha esdevingut un referent és
el model relacional (\emph{relational model}). L'èxit d'aquest model
és degut principalment que es fonamenta en teories matemàtiques
consolidades: la lògica de predicats i la teoria de
conjunts \parencite{date:introduction}. En base al model relacional es
va definir el llenguatge \emph{Structured Query Language} (SQL) per
operar amb bases de dades que ha esdevingut un estàndard en molts
SGBD.


Els SGBD se solen dissenyar amb una arquitectura de tres nivells: el
físic, el lògic i el d'usuari \parencite{date:introduction}. 
\begin{itemize}

\item El nivell d'usuari o extern agrupa les eines que tenen
  disponibles els usuaris per a interactuar amb la base de dades, per
  exemple en el cas relacional SQL pertany a aquest nivell.

\item El nivell lògic o conceptual és l'abstracció formal dels
  conceptes dels SGBD. En aquest nivell hi pertanyen els models de
  dades, per exemple el mateix model relacional en el cas relacional.

\item El nivell físic o intern agrupa la programació informàtica de
  com s'han d'emmagatzemar físicament les base dades i de com s'has
  d'executar les operacions. Per exemple en aquest nivell apareixen
  els registres de memòria, punters, mètodes d'accés als fitxers,
  etc., conceptes que no tenen res de relacional.
\end{itemize}


Una bona diferenciació entre els tres nivells d'arquitectura aporta
independència a les dades (\emph{data
  independence}) \parencite{date:dictionary}. Date considera que és
una de les propietats més importants que han de complir els SGBD. De
forma resumida, la independència a les dades significa que el nivell
lògic no ha de contenir detalls d'implementació ni parlar d'objectius
de rendiment sinó que aquests són part del nivell físic. Així ha de
ser possible canviar el nivell físic sense afectar el nivell lògic.
mantenint.  Així doncs, un model de dades concret pot tenir diverses
implementacions en el nivell físic, per exemple
\emph{PostgreSQL} \parencite{postgresql} per al model
relacional. \textcite{dbdebunk} detallen algunes confusions actuals
sobre la independència entre el model i la implementació.

 


\subsection{Sistemes relacionals}
\label{sec:estat:sgbdr}

El model relacional va ser proposat per \textcite{codd70} com una
teoria abstracta de dades per tal de formalitzar els SGBD amb teories
matemàtiques consolidades.  El model relacional va significar un gran
canvi en la recerca en SGBD ja que, a diferència dels models antics,
possibilitava l'estudi dels problemes amb teories matemàtiques: la
lògica i l'àlgebra de
conjunts \parencite{atzeni13:relational_model_dead}.  A partir de
llavors el model relacional ha evolucionat fins a aconseguir una gran
solidesa, amb \textcite{date04:introduction8,date06,date:dictionary} com
a principal divulgador.  Quan els SGBD es basen en el model relacional
s'anomenen relacionals (SGBDR).



El model relacional defineix el nucli dels SGBD en tres parts:
\begin{itemize}
\item Estructural: les relacions com a estructura principal per a
  representar les dades. Els tipus de dades també són necessaris per a
  representar les dades però no es defineixen en l'estructura
  principal sinó que són considerats ortogonals
  (v.~\autoref{sec:art:relacional-tipus}).

\item Manipulació: operacions sobre les relacions i que resulten en
  noves relacions. Són definides dualment a partir de l'àlgebra de
  conjunts i de la lògica, anomenades àlgebra relacional i càlcul
  lògic respectivament. Totes dues tenen una definició independent
  però són equivalents.

\item Integritat: regles d'integritat o restriccions que han de
  complir les variables relació. La integritat es basa en aplicar
  operacions que han de retornar el valor cert. La integritat s'ha de
  complir sempre, normalment es comprova durant les assignacions.  Per
  exemple la clau primària és una regla d'integritat.
\end{itemize}


La definició de les relacions inicialment es basava en el concepte
matemàtic homònim en el sentit de producte cartesià de conjunts, però
el model relacional ha anat evolucionat i ara ja no són exactament el
mateix. Tampoc no s'ha de confondre el terme relació (\emph{relation})
del model relacional amb el terme relació de parentiu
(\emph{relationship}). El primer és el concepte basat en conjunts que
definim a continuació mentre que el segon és el concepte de parentiu
entre entitats: una a molts, molts a molts, etc. De fet, les
estructures de parentiu és una de les moltes dades que poden ser
expressades en el model relacional. Alguns autors del model relacional
prefereixen el terme taula relacional (\emph{relational table}) en
comptes de relació \parencite{dbdebunk}.



Les relacions es defineixen com una parella de capçalera
(\emph{heading}) i cos (\emph{body}). El cos és un conjunt de tuples
on cada tuple és un conjunt de parelles atribut i valor. Tots els
tuples d'una mateixa relació tenen els mateixos atributs, així es
distingeix entre la capçalera de la relació --els atributs-- i el cos
de la relació --els tuples.

Per exemple una relació entre un nom i una edat és
$r_1=(\{\text{nom},\text{edat} \}, \{
\{(\text{nom},\text{a}),(\text{edat},21)\},
\{(\text{nom},\text{b}),(\text{edat},23) \} \})$.  Simplificant i
sense explicitar que els atributs no tenen ordre, la mateixa relació
es pot expressar de forma més compacta $r_1=(
(\text{nom},\text{edat}), \{ (\text{a},21),(\text{b},23) \})$.  En la
definició estructural del model relacional, els valors sempre
pertanyen a un tipus de dades i cada atribut és restringit a un únic
tipus de dades. Així, de manera més completa hauríem d'escriure la
capçalera de la relació $r1$ com $\{\text{nom}: \text{text},\,
\text{edat}:\text{enter} \}$.


En el context lògic del model relacional, les relacions tenen la
interpretació següent: les capçaleres són predicats i els tuples són
proposicions certes per al predicat. En un context informàtic també es
pot interpretar que les capçaleres són funcions amb paràmetres i els
tuples contenen els arguments que fan certes les funcions.  Aquesta
interpretació lògica és la que realment estableix el significat de les
relacions en un context determinat.  Així, per exemple, la capçalera
de la relació $r_1$ podria correspondre al predicat ``L'estudiant
\emph{nom} té \emph{edat} anys'' i les proposicions certes són:
``L'estudiant a té 21 anys'' i ``L'estudiant b té 23 anys''.  Les
relacions es defineixen segons el principi de \emph{Closed World
  Assumption}; és a dir que els tuples que apareixen són proposicions
certes i els que no apareixen són proposicions falses. Així, per
exemple, podem dir que la proposició ``L'estudiant a té 22 anys'' és
falsa.



Les relacions es poden representar gràficament com a taules, per
exemple a la \autoref{fig:art:relacio:taula} es visualitza la relació
$r_1$.  Així, els conceptes de taules s'associen als de relacions i,
informalment, les relacions s'anomenen taules, els tuples, files o
registres, i els atributs, columnes o camps.

\begin{figure}[tp]
  \centering
  \begin{tabular}[c]{|c|c|}
    \multicolumn{2}{c}{$r_1$} \\ \hline
    nom  & edat \\ \hline
    a  & 21 \\
    b  & 23 \\ \hline
  \end{tabular} 
  \caption{Visualització com a taula d'una relació}
  \label{fig:art:relacio:taula}
\end{figure}

El nombre de tuples d'una relació s'anomena cardinal
(\emph{cardinality}) i el nombre d'atributs, grau
(\emph{degree}). Així doncs, la relació $r_1$ té cardinal 2 i grau 2.
Hi ha només dues relacions que tenen grau zero. Tenen un nom
específic, són la relació amb la capçalera i el cos buits
$\text{table\_DUM} = (\{\},\{\})$ i la relació amb la capçalera buida
i un tuple buit $\text{table\_DEE} = (\{\},\{\{\}\})$. Aquestes, però, no
tenen una representació clara com a taula.  



Pel que fa als operadors, en el cas de l'àlgebra relacional estan
fortament relacionats amb l'àlgebra de conjunts. Així hi ha els
operadors habituals de conjunts, com per exemple la unió, la
diferència, la intersecció o el producte; i altres d'específics per a
les relacions, com per exemple la projecció, la selecció, la junció o
el reanomena \parencite[cap.~7]{date04:introduction8}.  En el cas del
càlcul lògic, també anomenat càlcul relacional, estan relacionats amb
la lògica de predicats. Així per exemple hi ha un operador de rang per
recórrer el conjunt de tuples, el quantificador existencial o el
quantificador universal.\parencite[cap.~8]{date04:introduction8}.



En el model relacional es distingeix entre les variables relació o
relvar (\emph{relation variable}) i els valors relació (\emph{relation
  value}). El valor relació s'anomena simplement relació, com ja hem
definit fins ara.  Una relvar és una variable a les qual s'assigna una
relació.  L'assignació a les relvar es defineix amb el símbol $:=$ a
diferència de la igualtat algebraica o la definició de variables
algebraiques de símbol $=$, com ja hem usat.  Les relvar són els
objectes bàsics d'emmagatzematge a les bases de dades i per tant són
els objectes bàsics als quals s'apliquen les regles
d'integritat. També hi ha operacions que treballen sobre les relvar,
per exemple la inserció, l'actualització o l'esborrat, que són àlies
de combinacions de l'assignació amb altres operacions relacionals.
Unes relvar especials són les vistes. Les vistes són relvar derivades
a partir d'operacions a altres relvar; és a dir són àlies
d'expressions relacionals i actuen com a relvar en altres
expressions. A causa d'això les vistes també s'anomenen relvar
virtuals mentre que les relvar que no són derivades s'anomenen relvar
base. Les relvar s'emmagatzemen en una relació especial de les bases
de dades: el catàleg.






\subsubsection{Extensió del model amb nous tipus}
\label{sec:art:relacional-tipus}
%Com s'ha d'estendre el model relacional?

El model relacional ha evolucionat però no es considera que hi hagi hagut
cap revolució des de la seva aparició
\parencite[cap.~19]{date06}. %[date06ch19pp254]
Consideren que el model relacional és bastant complet i que segueix
evolucionant en la comprensió de les teories i els conceptes que hi
intervenen, com per exemple la recent àlgebra relacional
'A' \parencite[ap.~A]{date06:_datab_types_relat_model}.  En aquest
context d'evolució, es preveuen les investigacions que poden estendre
el model relacional. Aquestes investigacions estudien propietats de
les dades, com per exemple seguretat, redundància o optimitzacions de
les consultes, a partir del nucli del model relacional i permeten
aconseguir abstraccions més generals de les
dades \parencite[cap.~25]{date06}. %[date06ch25pp441]


En el sentit d'extensió cal destacar la definició de nous tipus de
dades, els quals estenen els SGBD en funcionalitat.  Els tipus de
dades (\emph{data type}, també anomenats dominis, tipus de dades
abstracte o solament tipus, són la definició d'un conjunt de
valors. Cada tipus té associat un conjunt d'operadors, en alguns casos
fins i tot s'entén que la definició tipus inclou aquests operadors.
De manera informal \parencite{date04:introduction8} fa correspondre
els conceptes de tipus i de relacions amb els conceptes lingüístics de
noms i frases.


Com s'ha dit anteriorment, la teoria de tipus i el model relacional
són ortogonals: el model relacional requereix que hi hagi un sistema
de tipus de dades però diu molt poc de la naturalesa d'aquest sistema,
si bé el model relacional defineix que com a mínim hi ha d'haver el
tipus booleà i el tipus
relació \parencite{date:thethirdmanifesto}. 
Pel que fa a implementar
els tipus de dades en els SGBD, destaquen les primeres propostes fetes per
\textcite{stonebraker86} per tal que els usuaris puguin definir els
seus propis tipus de dades i les de \textcite{seshadri98:_enhan} que
estudia la definició de tipus de dades complexos per tal que es puguin
tractar eficientment.


Normalment els SGBD tenen uns tipus predefinits, com els enters, els
reals o els caràcters. Això no obstant, els tipus de dades poden
definir qualssevol nous valors, com per exemple matrius, documents de
text, imatges o fins i tot relacions.  Aquests nous tipus de dades
poden afegir estructures i operadors que ja siguin expressables amb
l'àlgebra relacional o bé també poden definir-se a partir de l'àlgebra
relacional. No obstant això, disposar d'un bon model d'un tipus de
dades serveix per augmentar el nivell d'abstracció en el tractament
dels conceptes relacionats amb aquestes dades
\parencite{date02:_tempor_data_relat_model}. %[date02:_tempor_data_relat_model:prefaceppxix]


El tipus de dades d'una relació és determinat per la seva capçalera.
Així doncs, la relació $r1$ és de tipus relació $\{\text{nom}:
\text{text},\, \text{edat}:\text{enter} \}$.  El tipus relació pot ser
usat a qualsevol definició on puguin ser usats els altres tipus de
dades: definicions de variables, operadors, nous tipus de dades,
etc. Tot i així la definició del tipus relació és molt rígida quant
als tipus dels seus atributs, cosa que, per exemple, no permet definir
nous operadors genèrics per a qualsevol relació.  Recentment ha
aparegut una proposta preliminar de
\textcite{darwen13:generic_relation_type} per a solucionar aquest
problema. Aquesta proposta permetria definir capçaleres genèriques de
relacions mitjançant el símbol asterisc; és a dir capçaleres amb
atributs i tipus genèrics. Així per exemple permetria usar el tipus
relació $\{ * \}$ que determinaria una relació de qualsevol tipus; és
a dir que el conjunt de valors del tipus relació $\{ * \}$ contindria
totes les relacions possibles: la table\_DUM, la table\_DEE, la $r1$,
etc. Això no obstant, encara cal flexibilitzar més les definicions
dels tipus relació. Per exemple no és possible definir nous tipus de
dades que siguin subtipus del tipus relació, cosa que permetria que
els valors d'aquests subtipus funcionessin com a arguments en els
operadors predefinits de l'àlgebra relacional.



Finalment, com a exemple de nous tipus de dades, cal destacar que en
l'àmbit dels sistemes d’informació geogràfica (SIG) hi va haver un
gran impacte quan els SGBDR es van estendre amb el tipus de dades
espacials \parencite{nunes13:icc_geospacial}.  Inicialment els SIG
usaven programes informàtics específics per a la gestió de les dades
geogràfiques. Hi va haver una recerca intensa en els SGBDR per tal
d'establir models que permetessin emmagatzemar i consultar dades
geomètriques i les propietats espacials de la informació
geogràfica. D'aquesta manera es van definir el que es coneix com a
bases de dades espacials o geoespacials, les quals han permès
desenvolupar tots els avantatges dels SGBD en els SIG. %[bollaert06:thesis]

Una altra extensió de tipus important en els SGBDR és la de les dades
temporals, les quals detallem a la \autoref{sec:art:dades_temporals}.






\subsubsection{Implementacions relacionals}


\todo{}

 Les implementacions més populars de SGBDR són les que
ofereixen a l'usuari el llenguatge SQL per a operar amb les bases de
dades, a continuació ens hi referim com a SGBD SQL.  Ara bé, segons
Date els SGBD SQL es desvien considerablement del model relacional:
permeten files duplicades, tenen ordre en les columnes, permeten
valors nuls \parencite{date08:nulls}, etc.

Les diferències entre els SGBD SQL i el model relacional han
contribuït que hi hagi hagut diversos malentesos i errors, alguns dels
quals han estat avaluats i desmentits \parencite{dbdebunk,date06}.
  

\textcite[cap.~2]{date06} %ch2pp21-22
considera que no hi cap implementació comercial que segueixi fidelment
el model relacional, tot i que esmenta algunes implementacions
prometedores com \emph{Dataphor} o la seva proposta tecnològica
\emph{TransRelational} \parencite{date:transrelational}. A banda,
també cal destacar \emph{Rel} \parencite{rel} com un SGBDR bastant
consolidat.



Actualment \textcite{date:thethirdmanifesto} estan treballant en el
'\emph{Third Manifesto}' com a proposta per a obtenir SGBDR purament
relacionals. Destaquen que, en el model relacional, els tipus de dades
i les relacions són necessaris i suficients per representar qualssevol
dades a nivell lògic. %[date06ch21,369]
Defineixen dos principis bàsics dels SGBDR: l'\emph{Information
  Principle} o \emph{The Principle of Uniform
  Representation} \parencite{date:dictionary}, segons el qual una base
de dades només conté variables relacions, i el principi
d'ortogonalitat entre la teoria de tipus i el model
relacional \parencite[cap.~6]{date06}, segons el qual relacions i
tipus de dades són independents i per tant els atributs de les
relacions admeten qualsevol tipus.  Segons aquest punt de vista, els
tipus de dades són el conjunt de coses de les que podem parlar mentre que les
relacions són proposicions certes sobre aquestes coses.
%In other words, types give us our vocabulary the things we can talk about and relations give us the ability to say things about the things we can talk about. (There's a nice analogy here that might help: Types are to relations as nouns are to sentences.) %[date05ch4secMore on Relations Versus Types]

En la proposta per a obtenir SGBDR purament relacionals
\textcite{date06:_datab_types_relat_model,date:tutoriald} classifiquen
com a \emph{D} els llenguatges que segueixin els principis del
\emph{Third Manifesto}. Concretament, com a exemple d'un llenguatge
\emph{D} estan definint les regles de \emph{Tutorial D}, que ha de
servir pels estudis del model relacional a nivell acadèmic. Aquest
llenguatge ja s'utilitza en alguns SGBDR, com per exemple a
\emph{Rel} \parencite{rel}.


El model relacional ha incorporat conceptes d'altres disciplines. En
destaca sobretot la incorporació de conceptes dels models d'orientació
a objectes com és el cas dels tipus de dades i de l'herència.
Aleshores s'entén que els SGBDR també es puguin anomenar SGBD
objecte/relacionals (\emph{object/relational})
\parencite{date02:foundation}.  Tot i així, \textcite[cap.~6]{date06}
manifesta i avisa de l'ús de la mateixa terminologia amb significat
diferent entre el model relacional i l'orientació a objectes, sobretot
pel que fa als termes valor i variable. %[date06ch6pp91]
La seva hipòtesi a aquestes diferències és que el model relacional és
un model de dades i el model d'orientació a objectes és més proper a
un model
d'emmagatzematge. % 'the object model' is closer to being a model of
                  % storage than it is to being a model of
                  % data. [date06ch6pp92]

% A la \autoref{tab:sgbd:relacional-objectes} es resumeix la possible
% equivalència lògica dels conceptes entre el model relacional i
% l'orientació a objectes tal com Date exposa al capítol 6, tot i que
% cal tenir en compte que la semblança és difusa.

% \begin{table}
% \centering
% \begin{tabular}[ht]{ll}
%   relacional & objectes \\\hline \hline
%   tipus & tipus, classe, interfície \\\hline
%   representació & classe, atributs, propietats \\\hline
%   valor, objecte, instància & valor, estat, objecte/instància immutable/estàtic \\\hline
%   variable & valor, objecte/instància mutable/dinàmic \\\hline
%   referència & variable \\\hline
%   operador & funció, mètode \\\hline
% \end{tabular}
% \caption{Possible equivalència lògica de termes entre el model relacional i l'orientació a objectes \parencite[cap.~6]{date06}.}
% \label{tab:sgbd:relacional-objectes}
% \end{table}

% Relacional: tipus | representació |  valor, objecte, instància  | variable  | referència (adreça continguda en una variable) | operadors (de lectura i de modificació)
% Objectes: tipus, classe (tipus amb atributs i mètodes), interfície | classe, atributs,propietats  |  valor, estat, objecte/instància immutable/estàtic |  valor, objecte/instància mutable/dinàmic  | variable | funcions,mètodes (funcions dins de classes) (purs o modificadors)










\subsection{Altres sistemes}

\todo{}

\todo{models de graf: aquests fan bona pinta, tenen una bona base teòrica. Però sembla que és un model que va molt bé per a representar dades de tipus relació parentiu (relationship) i no es tan genèric per a les altres dades com el model relacional}


Fabian Pascal %\url{http://www.dbdebunk.com/2013/11/more-on-erm-still-not-data-model.html?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+blogspot%2FTuHQT+%28DATABASE+DEBUNKINGS%29}:
% ``I never claimed that "only RM models data". In fact, the hierarchic and network data models also do, but were discarded decades ago because they were, for various reasons, inferior to the RM. Other than those two, I am unaware of any other proposed data model that is formal and complete.'' 
% ``There have been attempts to structure and manipulate data based on other logics/theories e.g. graph theory or 2nd order logic, but they have proved more complex and less flexible and comprehensible than RT. In my modeling paper I provide a criterion for comparing data models on superiority, but doing it right is non-trivial and nobody has ever claimed superiority to RT on sound grounds.''



\todo{Encara avui hi ha discussions en l'àmbit de SGBD}
Es pot dir que hi ha quatre corrents d'opinió: Els SQL, els NoSQL, els NewSQL i els RelacionalsPurs (els teòrics com Date, Darwen i Pascal).
És molt difícil valorar per què tenir un model fortament matemàtic és millor que no tenir-lo, això s'ha demostrat a través de l'experiència. Per tant algunes discussions giren al voltant d'això. Alhora també és molt difícil aconseguir una implementació totalment fidedigna al model matemàtic, a causa de la gran potència que aconsegueixen les matemàtiques amb l'abstracció, i molt menys que sigui una implementació eficient. Per tant altres discussions giren al voltant d'això. 

Tenen raó quan DateDarwenPascal diuen que molts dels productes NoSQL són retornar a models pre-relacional fallits (jeràrquic o  altres) però també tenen raó els NoSQL quan diuen que fin a l'arribada dels seus productes no hi havia cap sistema informàtic capaç de resoldre eficientment determinades aplicacions. Potser s'ha de passar per uns moments de transició d'implementacions NoSQL de baix nivell (més properes al nivell físic) per a després agafar les bones idees i millorar els sistemes relacionals. De fet en certa manera ja està succeint: el corrent NoSQL ha esperonat la millora dels productes SQL (p.ex. cas de MapReduce esperona al NewSQL de Stonebraker).

Per altra banda, la definició del concepte de SGBD ha hagut de canviar. Primer anava acompanyada de requisits particulars (propietats ACID, transaccions, seguretat, optimització de les consultes) però ara s'ha hagut de generalitzar i centrar-se en el nucli dels SGBD: de fet és exactament el que descriu el model relacional. En canvi els requisits particulars es descriuen com a complements d'aquest nucli. (alguns fins i tot diuen que el sistema de fitxers es pot veure com un SGBD).


\todo{ha d'aparèixer MapReduce i també ha d'aparèixer que Stonebraker està dissenyant el mateix esquema però amb SGBDR}


\todo{}





Les crítiques als SGBDR, sobretot les degudes als SGBD
\emph{SQL}, han contribuït a voler explorar altres models de
SGBD \parencite{stonebraker09}. Aquests models presenten diferents
maneres de representar les dades: llistes, seqüències, enllaços,
matrius, etc.
%[date06pp116,134]

Tot i així, \textcite[cap.~21--25]{date06} considera que els nous
models de SGBD, a vegades anomenats post-relacionals, no estan fundats
tant sòlidament en teories matemàtiques i la lògica de predicats com
el model relacional i pronostica que ens els propers cent anys els
SGBD encara estaran basats en el model
relacional. %[date06ch19pp354,date06ch20pp365]
Considera la possibilitat, tot i que remota, que es pugui definir un
model més potent que el relacional però que no hi ha cap indici que
cap definició dels nous model tingui la mateixa potència que el
relacional. Per tant, aconsella que per ara els SGBD no s'allunyin del
model relacional. %[date06ch25,ch21pp379-380]



\todo{} La comunitat de SGBD dóna la benvinguda al NoSQL
\cite{atzeni13:relational_model_dead}. És una bona notícia, a veure si
a partir d'ara veiem recerca i formalització dels models dels SGBD
NoSQL i es poden entendre i comprendre les diferències amb els SGBDR.

\todo{més recentment ha aparegut el corrent NewSQL \url{http://readwrite.com/2011/04/06/the-newsql-movement}}
\url{http://readwrite.com/2011/04/06/the-newsql-movement}


Recentment ha aparegut un nou corrent en l'àmbit dels SGBD que
s'anomena NoSQL (\emph{Not Only SQL}) amb l'objectiu de sobrepassar
les limitacions dels SGBDR \parencite{edlich:nosql,stonebraker10}.  A
l'espera que Date valori aquest corrent, cal tenir present els seus
apunts sobre sistemes relacionals contra sistemes no
relacionals \parencite[part 7]{date06}, sobretot pel que fa al
concepte de l'\emph{Information Principle} i que SQL no és un bon
referent pels SGBDR. És a dir, s'ha d'entendre NoSQL com una crítica a
les implementacions comercials actuals del model relacional, una
crítica que pot estar motivada per l'ús de SQL per part d'aquest
productes.  No es pot entendre, però, el NoSQL com una crítica al
model relacional ja que els objectius parlen de millorar el rendiment
dels SGBD, cosa només atribuïble a les implementacions però no al
model. Precisament, actualment del model relacional destaca la
proposta de \citeauthor{date:tutoriald} d'un llenguatge,
\emph{Tutorial D}, que no és SQL.


El corrent de NoSQL també critica l'adequació dels productes actuals.
Els SGBD NoSQL apunten els SGBDR actuals per voler ser \emph{one size
  fits all} \parencite{stonebraker07,stonebraker09} però que cada
aplicació té els seus requisits i per tant una mateixa implementació
no pot ser bona per a tots el camps.  En aquesta mateixa línia els
models pels SGBD prenen més sentit que mai ja que permeten mantenir
una definició comuna per a moltes implementacions.


Segons es desprèn de \textcite{date06} fins a l'actualitat només hi ha
hagut un model consolidat pels SGBD: el model relacional.  Ara, en el
corrent NoSQL també es parla de nous models de
SGBD \parencite{edlich:nosql,stonebraker09:scidb}.
\citeauthor{date06} ha avaluat que alguns nous models recuperen
intents fallits en el passat tot i que es poden representar amb el
model relacional, per exemple els SGBD XML basats en estructures
d'arbre \parencite[cap.~14]{date06} \parencite[cap.~27]{date04:introduction8}
o els ODMG basats en objectes \parencite[cap.~27]{date06}. Tot i així,
en un futur cal estar atents per si alguns d'aquests models joves de
SGBD arriben a consolidar-se i poden esdevenir tant potents com el
model relacional.


\todo{}
Diferència entre SGBD i llenguatges de programació: independència de les dades quant al model lògic i al nivell físic: \emph{``It appears that
current NoSQL systems make no distinction be-
tween the logical and physical schema. Thus, the
fundamental advantages of the ANSI SPARC ar-
chitecture have been voided, which complicates the
maintenance of these databases. Storing objects as
they are programmed essentially negates the data
independence requirement that then remains to be
adequately addressed for NoSQL database systems.''}  \textcite{atzeni13:relational_model_dead}.








\section{Dades temporals}
\label{sec:art:dades_temporals}

\todo{Convertir en una secció les dades temporals i parlar-ne més extensament}
parlar de docs anteriors de dades temporals

Refs a estudiar:

\cite{jensen99:temporaldata}
\cite{jensen00:thesis}
\cite{jensen98:temporal_database_glossary}
\cite{tansel93:temporal_databases}


Em alguns llocs les bases de dades temporals també s'anomenem multiversió (multi-version)


%Precisament,
Una de les extensions importants del model relacional s'ha produït amb
l'estudi de les dades
temporals \parencite{date02:_tempor_data_relat_model}. Amb el model de
dades temporals basat en el model relacional s'obtenen SGBDR capaços
d'emmagatzemar i consultar dades històriques.

El model de les dades
temporals \parencite{date02:_tempor_data_relat_model} es basa en
relacions i intervals per representar les dades històriques. Cada
relació s'estén amb un atribut que és un interval temporal que indica
el rang temporal de validesa de les proposicions. A més el model també
defineix les operacions necessàries per tractar amb les dades
temporals. Aquestes operacions són extensions de l'àlgebra relacional.
El principal objectiu del model de dades temporals és poder tenir
suport per a les dades històriques en els SGBDR.
\textcite[cap.~28]{date06} compara aquest model per dades temporals
amb altres aproximacions que s'han fet no basades en el model
relacional.



El model de dades temporals representa les dades històriques amb el
temps vàlid i temps de
transacció \parencite[cap.~15]{date02:_tempor_data_relat_model}, el
que es coneix com a dades bitemporals.  Així doncs, els SGBD per dades
bitemporals no es consideren adequats com a SGBD per sèries temporals
ja que els primers estan pensats per a històrics, es descriuen amb
intervals temporals, i els segons per anàlisi d'observacions
seqüencials, es descriuen amb instants temporals.
\textcite{schmidt95} arriben a aquesta conclusió després de comparar
els SGBD bitemporals amb els de sèries temporals, tot i que per a
desenvolupaments futurs observen que hi aspectes temporals comuns
entre els dos sistemes i es pregunten si es podran trobar sistemes que
els englobin a tots dos o cadascun necessitarà sistemes específics.


%a algun lloc deia Date que el seu model per dades temporals no era del tot adequat per les sèries temporals?, potser perquè els intervals no estaven pensat per a instants? date02ch16.8?




\todo{llibre que apareixerà aviat}

Time and Relational Theory, 2nd Edition
Temporal Databases in the Relational Model and SQL
 
Author(s) : Date,     Lorentzos,    Darwen.    Expected Release Date: 26 Sep 2014Imprint:Morgan KaufmannPrint Book ISBN :9780128006313 Pages: 560Dimensions: 235 X 191
\url{http://store.elsevier.com/product.jsp?isbn=9780128006313&pagename=search}


\subsection{Conclusió}

\todo{}

Actualment l'àmbit informàtic de SGBD se centra en les
implementacions, com ho demostra el nou corrent NoSQL concentrat en
trobar models d'implementacions que tinguin bon rendiment. A tal
efecte la recerca es concentra en temes de garantia de propietats ACID
(\emph{atomicity, consistency, isolation, durability}), d'optimització
de consultes, d'emmagatzematge de grans volums de dades, de consultes
via web, de distribució de bases de dades, de reduir la despesa en
energia, etc. \parencite{stonebraker07,stonebraker10}, la qual cosa és
exce\l.lent per a disposar d'un SGBD adequat a cada aplicació.
\textcite{haerder05:_dbms_archit} descriu diferents models
d'implementació per als SGBD, ja que indica que per obtenir bon
rendiment la implementació d'un SGBD s'ha d'estudiar per cada
aplicació. És més, una implementació d'un SGBD que vulgui obtenir un
bon rendiment en una determinada aplicació potser no pot implementar
el model de dades complet sinó que només una part, com per exemple en
els sistemes
encastats \parencite{saake09:_downs_data_manag_embed_system}.

Per altra banda, l'àmbit matemàtic de SGBD, amb el model relacional
com a màxim exponent, se centra en els conceptes teòrics, és a dir
respon a la pregunta de què són els SGBD. Recerca en millorar-ne la
comprensió, en obtenir la màxima potència i facilitat de cara a la
gestió de dades per part de l'usuari o en obtenir nous models. Tot i
així, actualment encara no s'ha trobat cap altre model que tingui la
mateixa potència que el relacional. Cal destacar que tot i que el
model relacional té conceptes madurs i consolidats, i que a més han
tingut èxit amb els SGBD SQL, s'obre una nova perspectiva amb
l'evolució de conceptes que proposa el \emph{Third Manifesto},
especialment amb \emph{Tutorial D} i les implementacions que comencen a prendre
cos a nivell acadèmic.



















%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End: 

% LocalWords:  monitoratge SGBD SGBDR SQL
