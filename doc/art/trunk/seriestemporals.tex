\todo{dir}
dir que en el nostre model no ens ocupem de l'etapa d'adquisició/mostreig de les sèries temporals sinó que tenim unes mesures que s'han capturat d'alguna manera. Si bé cal destacar que alguns SGST sí que influeixen al procés d'adquisició, per exemple poden controlar obtenir més mostres si veuen coses rares, no mostrejar més si és tranquil, canviar paràmetres, etc.


\todo{}
explicar el data mining com a background per a les oepracions que es poden fer amb les sèries temporals: pattern search, similiraties, etc.

\section{Sèries temporals}





Una sèrie temporal és un conjunt de valors cadascun dels quals té
associat un instant de temps diferent.  Tradicionalment s'anomenen
sèries temporals tot i que també s'accepta la denominació de
seqüències temporals, per exemple a \cite{last:hetland}.

Les sèries temporals s'emmarquen dins l'àmbit més genèric del que es
coneix com a \emph{dades temporals}. Les dades temporals són
co\l.leccions de dades arbitràries que estan associades a la dimensió
temps.  Dins del concepte de dades temporals s'hi encabeixen
co\l.leccions de dades de diversa natura. En funció de com un valor
queda vinculat amb el temps, es poden diferenciar dues
categories \parencite{assfalg08:thesis}.
\begin{enumerate}
\item La primera la formen les sèries temporals tal i com s'han
  definit prèviament, en la qual la dada està associada a un instant
  de temps.
\item La segona, que anomena \emph{bitemporal data}, la formen
  co\l.leccions de dades en que cada element té dos atributs
  temporals: el rang de validesa, que indica l'intèrval de temps en
  que la dada és vàlida, i el temps de transacció, que indica quan es
  va desar la dada a la base de dades.  
  %\citeauthor{assfalg08:thesis} a \cite{assfalg08:thesis} assegura que aquesta categoria de dades temporals es poden expressar en termes de la primera.\todo{Teresa5}
\end{enumerate}
Aquestes dues categories de dades temporals, tot i tenir aspectes en
comú, no poden ser tractades amb els mateixos
sistemes, \parencite{schmidt95}.


Les sèries temporals s'utilitzen en camps molt diversos i amb
objectius molt diferents. L'ús generalitzat és per a l'anàlisi i la
comprensió del comportament temporal de variables. L'evolució d'una
sèrie temporal es pot representar amb un model. Aquests models, en
l'àmbit de l'enginyeria, permeten realitzar tasques relacionades amb
validació de dades, diagnòstic i prognosis.  Per exemple, trobem
aplicacions de sèries temporals en el camp de l'avaluació de la
degradació de components \parencite{yu11}, anàlisi de l'estat dels
sensors d'un vaixell \parencite{palmer07}, validació i reconstrucció
de dades en xarxes de distribució d'aigua \parencite{quevedo10},
classificació de valors econòmics \parencite{dreyer95}, optimització
de la planificació semafòrica \parencite{last11}, estimació del temps
de viatge en autopistes \parencite{soriguera10} o transmissió
d'informació en xarxes de
sensors \parencite{jainagrawal05,yaogehrke02}.
\todo{també sèries temporals van de bracet amb GIS, exemple en dades hidrològiques [bollaert06:thesis]}


Aquest apartat té com a objectiu mostrar l'estat de l'art dels
principals processos vinculats en el treball amb sèries temporals. A
tal efecte s'organitza en tres subapartats.
 

El primer subapartat se centra en l'adquisició de dades. El primer
requeriment d'una sèrie temporal és l'adquisició de dades. Els
sistemes de monitoratge s'encarreguen de recollir dades dels sensors,
periòdicament o en base a esdeveniments.  Els problemes que es donen
durant l'adquisició generen defectes específics en les sèries
temporals que cal analitzar i tractar convenientment.


El segon subapartat tracta de l'anàlisi de sèries temporals, que és
la formalització de les tècniques que s'utilitzen per extreure
informació. A vegades aquesta extracció també es coneix com
descobriment de coneixement i s'emmarca dins de l'inte\l.ligència
artificial.


El tercer subapartat es dedica als sistemes d'emmagatzemat de sèries
temporals. L'emmagatzematge de les dades i la implementació de les
tècniques d'anàlisi té lloc en els sistemes de gestió de bases de
dades. Aquests s'encarreguen de l'organització correcte de la
informació i de respondre a les operacions de consulta. Les sèries
temporals necessiten un tractament específic per part d'aquests
sistemes.






\subsection{Adquisició de sèries temporals}

Els sistemes de monitoratge són un part important d'interacció entre
un procés i els usuaris, entenent com a procés qualsevol sistema
físic, químic, ambiental, etc.\ del qual es pugui recollir informació
continuada, ja sigui de forma periòdica o en funció
d'esdeveniments. Principalment, aquests sistemes s'encarreguen de
recollir dades, conèixer l'estat actual del procés i informar a
l'usuari. Els sistemes de monitoratge constitueixen la part principal
dels sistemes SCADA (\emph{Supervisory Control And Data
  Acquisition}). Un SCADA és el sistema encarregat de recollir i
centralitzar les dades de manera periòdica en el temps.



\begin{figure}[tp]
  \begin{center}
    \scriptsize 
    \input{imatges/monitoratge.tex}
  \end{center}
  \caption{Sistema de monitoratge: de l'adquisició de dades fins a informar l'usuari}
  \label{fig:sistema_monitoratge}
\end{figure}


El monitoratge es pot dividir en diferents blocs principals, els quals
es mostren a la \autoref{fig:sistema_monitoratge}. Un monitor
adquireix dades dels sensors. Les dades poden ser valors de mesures o
estats del procés adquirits com a esdeveniments. Fent referència a la
classificació de dades temporals de \textcite{assfalg08:thesis}, en
general les mesures es poden entendre com a sèries temporals i els
esdeveniments com a dades bitemporals.

En el cas de sistemes controlats o automatitzats, les dades adquirides
poden ser utilitzades per comandar o modificar el funcionament del
procés. Aleshores s'incideix en diferents nivells des de llaços de
control modificant directament un accionament, fet que no sol ser
habitual ja que els llaços de control solen realitzar-se els sistemes
electrònics que resideixen prop dels sistemes controlats, fins a
gestió de modes de funcionament i coordinació entre màquines, fet més
habitual.

L'ús generalitzat dels sistemes de monitoratge és el de proporcionar
informació de l'estat actual del procés. També disposen de la
possibilitat de generar alarmes senzilles com per exemple que no s'han
pogut adquirir les dades o que el sensor ha assolit un valor
crític. Per a usuari ens referim tant a un usuari humà com a un altre
sistema supervisor dotat amb inte\l.ligència artificial.

Per a càlculs més complicats amb les dades, els sistemes de
monitoratge utilitzen sistemes de gestió de bases de dades
(SGBD). Mitjançant els SGBD, s'emmagatzemen les dades en bases de
dades i posteriorment l'usuari les consulta per observar els històrics
o per obtenir informació i elaborar coneixement a partir de les dades
emmagatzemades.

La \autoref{fig:sistema_monitoratge} presenta una visió centralitzada
de l'adquisició de dades. Ara bé, els sistemes de monitoratge
internament poden tenir estructura distribuïda quan els sensors tenen
suficient capacitat de processament, com per exemple les xarxes de
sensors. En aquests casos els monitors cedeixen parts al sensors,
sobretot pel que fa als SGBD que passen a tenir un paper més rellevant
en la comunicació.


Un dels camps recents on l'adquisició de sèries temporals hi juga un
paper fonamental és el de les xarxes de sensors. L'abaratiment del
maquinari permet monitorar el procés amb grans quantitats de sensors
inte\l.ligents \parencite{jainagrawal05,yaogehrke02}, els quals tenen
processador i ràdio incorporats però tenen recursos limitats pel que
fa a transmissió, energia i processament i estan sotmesos a la
incertesa dels sensors. Així doncs, el problema de les xarxes de
sensors rau en estudiar l'ús eficient d'aquests recursos, pel qual
actualment trobem dues propostes.  Una solució consisteix en
transmetre la informació a un node central comprimint-la tant amb
agregacions (estadístics) com amb
aproximacions \parencite{deligiannakis07}.  Una altra solució
consisteix en tenir les dades distribuïdes en diferents sensors i
decidir com s'ha de resoldre cada consulta tenint en compte que el
processament local és més barat que la
comunicació \parencite{yaogehrke02,gehrkemadden04,bonnet01}.

\todo{el tema d'agregar informació en xarxes de sensors és interessant, potser hauria de tenir una secció pròpia}

\todo{citar kim12}:
Research Article
Aggregate Queries in Wireless Sensor Networks
Jeong-Joon Kim,1 In-Su Shin,1 Yan-Sheng Zhang,2 Dong-Oh Kim,3 and Ki-Joon Han1
Hindawi Publishing Corporation
International Journal of Distributed Sensor Networks
Volume 2012, Article ID 625798, 15 pages
doi:10.1155/2012/625798





\subsubsection{Problemes en el monitoratge}

Els sistemes de monitoratge habitualment presenten problemes derivats
de la reco\l.lecció de dades. Principalment distingim tres problemes.

\todo{parlar també del problema de la sincronització de rellotges}
\textcite[cap.~3]{kopetz11:realtime}


\begin{enumerate}
\item El primer problema és la gestió d'una quantitat enorme de dades. 

Un sistema de monitoratge recull una gran quantitat de dades. Ara bé, l'usuari només en pot observar una petita part sincronitzat (\emph{online}) amb el procés i les dades emmagatzemades esdevenen massa grans per a ser processades posteriorment \parencite{keogh97}. No obstant, les dades han de ser analitzades ja que contenen informació interessant per a les aplicacions de les sèries temporals descrites a l'apartat anterior. S'observa que en el context de monitoratge les dades recollides es poden considerar com a sèries temporals ja que abstractament són una co\l.lecció de mesures.


\item El segon problema és el de la necessitat de censurar les dades, és a dir validar que les dades siguin correctes i en cas contrari rebutjar-les o reconstruir-les. 

\textcite{quevedo10} mostren la quantitat d'informació que hi ha en els sistemes complexos de telecontrol. Aquesta informació s'obté de diversos sensors distribuïts pel camp de mesura.
En el moment de reco\l.lecció de dades apareixen dos problemes: valors que en un instant de temps prefixat no s'han pogut recollir i valors que són falsos. En el procés de gestió de dades no es poden emmagatzemar les dades amb aquests dos tipus de problema ja que aleshores els registres històrics serien inconsistents. 
Així doncs, cal comprovar que les dades emmagatzemades són correctes, mitjançant un procés de validació, i modificar-les en el cas que siguin falses, mitjançant un procés de reconstrucció que estimi els valors correctes. Per exemple, \citeauthor{quevedo10} apliquen aquests processos de validació i reconstrucció a xarxes de distribució d'aigua.


\item El tercer problema es dóna quan el període de mostreig no és regular, és a dir que les dades no es recullen de manera uniforme en el temps, però les aplicacions no ho contemplen o volen treballar amb dades a intervals regulars, també anomenat dades equi-espaiades.

Una causa de la irregularitat es deu a que els sistemes de monitoratge informàtics sovint no són capaços de complir amb exactitud el temps de mesura sinó que presenten una certa variació, ja sigui deguda a retards en els sensors, les comunicacions o la planificació del monitoratge amb altres tasques concurrents del sistema operatiu. Aquesta causa, però, es pot atenuar si els sensors envien el temps de mesura juntament amb el valor mesurat. Aleshores, el problema recau en la sincronització dels rellotges dels sensors. \todo{busca jitter en el periodic sampling de control}

Una altra causa es deu a que l'adquisició de dades prové de processos sotmesos a sistemes de control, els quals prenen el control de l'adquisició de dades. És a dir, el sistema de monitoratge ha d'obeir a les restriccions de temps imposades pels llaços de control. Aquestes restriccions són especialment crítiques en els sistemes de control en temps real ja que, aleshores, el sistema de monitoratge no pot imposar restriccions de temps diferents de les que s'han calculat per als llaços de control.  \textcite{lozoya08} mostren que s'ha de vigilar amb les entrades i sortides de les tasques periòdiques als sistemes en temps real. L'actuació dels sistemes de control es degrada quan no es té en compte que les operacions d'entrada i sortida estan subjectes a fluctuacions degudes al mostreig i a latències. Aquest problema afecta als sistemes de monitoratge en dues vessants.
Per una banda, els sistemes de monitoratge tenen una part de l'adquisició controlada per les aplicacions de control en temps real i per tant el període de mostreig resultant que veu el monitor no és regular. 
Per altra banda, les aplicacions que analitzen les dades obtingudes del monitoratge poden veure com la seva actuació es degrada si no consideren que l'adquisició de dades és irregular, el qual és similar a la regressió que s'observa \parencite{lozoya08} quan en el disseny d'un controlador discret es considera que es mostreja i s'actua periòdicament però en la implementació amb un sistema en temps real aquest pot fluctuar la periodicitat.
\todo{event based sampling/control}

\end{enumerate}



En conclusió, per tal de gestionar la complexitat derivada de la recollida de dades i també la complexitat de les consultes posteriors per part de l'usuari, els sistemes de monitoratge es recolzen en sistemes de gestió de bases de dades per gestionar l'emmagatzematge de les dades i la recuperació d'informació.





\subsection{Anàlisi de sèries temporals}

\todo{dir que una aplicació emergent és l'anàlisi de dades en temps real/en línia amb el procés per a prendre decisions}

L'anàlisi de sèries temporals consisteix en l'aplicació de
metodologies i d'algoritmes que permeten tasques com per exemple
l'extracció de característiques o obtenció de models.  Aquestes
tècniques es recullen en el que es coneix amb el nom de mineria de
sèries temporals (\emph{time series data mining}). La mineria de
dades, en la qual s'inscriu la de sèries temporals, és l'estudi
d'algoritmes específics per a extreure patrons de comportament de les
dades i s'inclou com un pas del procés general de descobriment de
coneixement a les bases de dades (\emph{knowledge discovery in
  databases}) \parencite{fayyad96,last01}

\todo{}
dir que last01 proposa aproximar una sèrie temporal dividint-la en subintervals i calculant per a cada un la funció que més s'hi aproxima. potser comparar-ho amb la PAA de Keogh on ell diu que amb l'aproximació lineal ja n'hi ha prou?

.
% [M. E. Mueller, Relational Knowledge Discovery, Cambridge 2012. sec1.1p7]
%knowledge discovery: process of extracting new knowledge from a set of data about that set of data, This means that the acquisition of new lnowledge requires us to build a new model of the data.
% Data mining: refers mostly to the extraction of parts of information with respect to a given model. 
%Exemple: correlació, si dues coses tenen correlació no vol dir que necessàriament hi hagi una dependència causal entre les dades.

Actualment, les sèries temporals es consideren com un dels deu problemes
prioritaris en la mineria de dades \parencite{yangwu06}. Tal com
esmenta \textcite{fu11} en un article recent, la recerca en mineria de
sèries temporals s'ha incrementat en la darrera dècada. L'objectiu
principal és reduir la mida de les sèries temporals per tal de
disminuir el temps de processat de les dades.  \citeauthor{fu11}
resumeix l'estat actual de la mineria de sèries temporals de forma
exhaustiva i conclou que encara queden molts problemes per investigar
i resoldre. La recerca en tasques de mineria ha estat intensa però es
necessita millorar la representació de sèries temporals, ja que es
considera el pas que redueix la mida de les dades.

Segons \textcite{keogh02}, les quatre tasques que centren l'atenció de
la recerca actual de sèries temporals són l'indexat (\emph{indexing}),
que treballa amb una estructura comprimida de les dades; l'agrupament
(\emph{clustering}), que agrupa les dades segons la similitud entre
elles per tal de descobrir patrons; la classificació
(\emph{classification}), que etiqueta les dades segons les
característiques que presentin; i la segmentació
(\emph{segmentation}), que parteix una sèrie temporal en
subseqüències.  A més, \citeauthor{keogh02} comparen alguns algoritmes
experimentals duts a terme en aquests camps per diversos
autors. Recomanen a la comunitat de mineria de sèries temporals que
segueixi el seu estudi com a punt de referència per avaluar el
rendiment d'algoritmes similars.

Un pas comú previ a les quatre tasques anteriors és el de representació de la sèrie temporal. Les sèries temporals són discretes, són valors en punts de temps discrets, i la representació és el model de funció que aproxima la sèrie temporal a la seva naturalesa contínua original. La mineria de sèries temporals aprofita la representació per reduir la mida de les sèries temporals.
La representació de sèries temporals a trossos lineals (PLR, \emph{Piecewise Linear Representation}) \parencite{keogh97,keogh98} {é}s la més habitual actualment per ser més propera als usuaris ja que la visió de l'ésser humà segmenta les corbes en línies rectes.
Després de definir la PLR, \textcite{keogh00,keogh01} exploren altres representacions de sèries temporals per tal de reduir la mida d'una sèrie temporal i poder-la indexar més fàcilment. Proposen dues tècniques eficients en el càlcul: la \emph{Piecewise Aggregate Aproximation} i la \emph{Adaptive Piecewise Constant Approximation}, ambdues basades en la representació a trossos constants de la sèrie temporal. 
D'aquestes dues tècniques, \citeauthor{keogh00,keogh01} conclouen que mantenen una bona aproximació a la sèrie temporal i que a més  tenen molt menys cost de càlcul que altres de més complicades, com ara la \emph{Discrete Fourier Transform},  la  \emph{Singular Value Decomposition} o la \emph{Discrete Wavelet Transform}.

\todo{arreglar perquè quedi ben explicat; després en el model fem menció d'aquestes representacions}

\todo{potser posar-ho a estat de l'art tot això?}


In the design of the attribute interpolation function we can interpret
a time series in different ways, that is what we call the
representation of a time series. Keogh et al.\ \cite{last:keogh} cite
some possible representations for time series such as \emph{Fourier
  Transforms}, \emph{Wavelets}, \emph{Symbolic Mappings} or
\emph{Piecewise Linear Representation} (PLR). This last is remarked as
the most used owing to the most common representation is with linear
functions \cite{keogh01}.


\todo{last01} també fa una mena d'agregacions amb l'objectiu de trobar un a funció que s'aproximi a un interval de la sèrie temporal. Seria un mètode d'agregació amb aproximació?



\todo{wavelet}

També hi ha l'anàlisi de les sèries temporals amb wavelet analysis. Aquest es basa en anàlisis de la freqüència dels senyals. 

A multiresolution analysis (MRA) or multiscale approximation (MSA) is the design method of most of the practically relevant discrete wavelet transforms (DWT) and the justification for the algorithm of the fast wavelet transform (FWT). It was introduced in this context in 1988/89 by Stephane Mallat and Yves Meyer and has predecessors in the microlocal analysis in the theory of differential equations (the ironing method) and the pyramid methods of image processing as introduced in 1981/83 by Peter J. Burt, Edward H. Adelson and James Crowley.


\paragraph{Representació de sèries temporals}

\textcite{last:keogh}, cita vàries representacions per les sèries temporals com per exemple \emph{Fourier Transforms}, \emph{Wavelets}, \emph{Symbolic Mappings} o \emph{Piecewise Linear Representation} (PLR), però assenyala aquesta última com la representació més utilitzada. 
La PLR, funció definida a trossos lineal, és l'aproximació d'una sèrie temporal $S$, de llargada $n$, amb $K$ segments rectes. Els segments podrien ser polinomis de qualsevol grau, però la manera més comuna de representar sèries temporals és amb funcions lineals, segons Keogh, \cite{keogh02}.
Per aproximar el segment $S(t_a,t_b]$ d'una sèrie $S$, Keogh defineix dues tècniques: interpolació lineal, la recta que connecta $t_a$ i $t_b$, i regressió lineal, la millor recta que aproxima per mínims quadrats el segment entre $t_a$ i $t_b$.

Però també es pot representar una sèrie temporal amb una funció graó (\emph{step} o \emph{staircase function}); és a dir, amb una funció definida a trossos constant (\emph{piecewise constant representation}).
La representació a trossos constant és utilitzada en electrònica als convertidors digital-analògic (DAC, \emph{digital-to-analog converter}). En aquest cas, un senyal discret es considera una sèrie temporal i per reconstruir el senyal continu típicament s'aplica el model de \emph{zero-order hold}, equivalent a la representació a trossos constant,  o el de \emph{first-order hold},  equivalent a la representació a trossos lineal.
El model de \emph{zero-order hold} consisteix en mantenir constant cada valor fins al proper. S'obté una representació a trossos constant que en electrònica s'anomena seqüència de pulsos rectangulars (\emph{rectangular pulses}).

%http://en.wikipedia.org/wiki/Piecewise

%http://ca.wikipedia.org/wiki/Funció_definida_a_trossos

%http://en.wikipedia.org/wiki/Rectangular_function

%http://en.wikipedia.org/wiki/Step_function

% Piecewise Aggregate Approximation (PAA) \cite{keogh00}: aproxima una sèrie temporal partint-la en segments de la mateixa mida i emmagatzemant la mitjana dels punts que cauen dins del segment. Redueix de dimensió $n$ a dimensió $N$

% Adaptive Piecewise Constant Approximation (APCA) \cite{keogh01}: com el PAA però amb segments de mida variable.




\subsection{Emmagatzematge i gestió de sèries temporals}


Els sistemes de gestió de bases de dades (SGBD) són els sistemes informàtics que s'encarreguen d'emmagatzemar informació i de permetre a l'usuari consultar-la. A la secció \ref{sec:art:sgbd} es descriu com es formalitzen els SGBD, en aquest apartat ens centrarem en les necessitats que tenen les sèries temporals dels SGBD.


Les sèries temporals es diferencien d'altres tipus de dades en que els seus valors són dependents d'una variable: el temps. Com a conseqüència, qualsevol SGBD que hi vulgui tractar no ho pot fer de manera independent pels valors i pel temps; ha de conservar la coherència temporal.

Per poder aplicar les tècniques d'anàlisis de les sèries temporals de manera eficient cal disposar de SGBD específics. 
Durant l'última dècada, el maquinari informàtic ha millorat tant des del punt de vista tecnològic com de l'econòmic \parencite{deligiannakis07}, el qual ha facilitat l'adquisició de dades, per exemple amb xarxes de sensors, i alhora ha ampliat la capacitat per emmagatzemar les dades. 
Per tant, el volum de dades a tractar  en els SGBD cada cop esdevé més crític.

 
En els SGBD, el problema de grans quantitats de dades també es troba en altres camps com demostren \textcite{mylopoulos96} sobre la necessitat de grans bases de dades de coneixement. Els SGBD que tracten amb aquestes dades s'anomenen \emph{very large databases} (VLDB) i han de construir, accedir i gestionar la quantitat de dades de manera eficient.

\textcite{ogras06} consideren que les aproximacions que fan les VLDB
estan pensades per a bases de dades estàtiques. No obstant, observen
que les sèries temporal normalment són dinàmiques, és a dir de
naturalesa contínua i de mida no fitada. Conseqüentment, conclouen que
les solucions tradicionals, les quals analitzen a posteriori i sense
tenir en compte l'ordre, no es poden aplicar a causa de l'arribada
seqüencial i contínua de les dades.  Com a solució proposen resumir
dinàmicament les sèries temporals amb les tècniques de compressió que
s'apliquen en altres aplicacions on hi ha bases de dades grans.




\textcite{dreyer94} proposen desenvolupar SGBD que implementin operacions específiques per les sèries temporals, aleshores els anomenen sistemes de gestió de bases de dades per sèries temporals (SGST, \emph{time series database management systems}). Consideren que els altres SGBD no són adequats per tractar sèries temporals, tot i que després de comparar els SGBD per dades temporals i els SGST \parencite{schmidt95} troben que hi ha aspectes comuns entre els dos sistemes.
Els SGST estan optimitzats per gestionar les dades segons les operacions de temps i rotació, les quals són molt comunes en la gestió de les sèries temporals.  A més també cal controlar el creixement de la base de dades i la consulta ha de ser flexible i d'alta velocitat \parencite{keogh10:isax}. 
No obstant, fins a on coneixem, les propietats d'un model de SGST no s'han investigat més enllà  ja que la recerca s'ha concentrat en tasques de mineria de dades. Per exemple \textcite{last01} estudien una metodologia general per descobrir coneixement en els SGST, tant pel que fa a 
patrons temporals %(groups of events ordered by time)
com a regles temporals%(cause-effect relationships between events)
, i breument noten l'existència del model \cite{dreyer94} pels SGST.


Altres estudis proposen tractar les sèries temporals com a tipus que tenen ordre, per exemple seqüències o matrius.

\textcite{seshadri96:thesis} proposa que les sèries temporals són un subconjunt de les seqüències i per tant el model i les operacions per les seqüències \parencite{seshadri95} serveixen per les sèries temporals. 
\textcite{bonnet01} utilitzen el model de seqüències en SGBD distribuïts per xarxes de sensors, aleshores l'estratègia de comunicació inclou agregacions de les sèries temporals en els sensors \parencite{demers03}.
També es relaciona el model de seqüències de les sèries temporals amb els \emph{data streams} \parencite{babcock02,jagadish95,ogras06}. Els \emph{data streams} són dades que arriben contínuament i amb ordre temporal i es modelen com una seqüència on només s'hi poden afegir elements. Aleshores les consultes poden ser contínues, és a dir cada cop que arriba una dada nova s'actualitza incrementalment la informació. Per les sèries temporals s'utilitza en el càlcul de correlacions i prediccions de forma incremental \parencite{yi00} i en la cerca de patrons \parencite{bai05}.
%Data Stream Management System (DSMS) is an extension of Data Base Management System  

\todo{tot i així sembla que el concepte de bases de dades científiques ja apareix des de fa força temps \cite{segev87:sigmod}} 
En els SGBD per matrius \emph{arrays} destaquen els anomenats sistemes
de gestió de bases de dades científiques, camp en el qual les sèries
temporals hi tenen un paper de primer
ordre \parencite{zhang11}. \textcite{stonebraker09:scidb} estudien les
necessitats d'aquests sistemes sobretot en l'àmbit de la
ciència. \textcite{kersten11} proposen un sistema molt semblant però a
més integren el seu llenguatge, anomenat SciQL (\emph{SQL for
  science applications}), amb la sintaxi de SQL (\emph{Structured Query Language},
vegeu apartat \ref{sec:estat:sgbdr}). \textcite{zhang11} exemplifiquen
detalladament l'ús de SciQL en les sèries temporals per a algunes de
les seves propietats: regularitat, interpolació i cerca de
correlacions.




\todo{big data}

\url{http://cacm.acm.org/magazines/2014/7/176204-big-data-and-its-technical-challenges/fulltext}



\subsubsection{Implementacions actuals}

Hi ha hagut vàries implementacions de sistemes específics per a sèries
temporals. Algunes són només l'aplicació d'un algoritme d'anàlisi per
un problema concret de sèries temporals però altres són més elaborades
i es defineixen com a SGBD per a sèries temporals.  En aquest apartat
resumim algunes aplicacions que considerem que implementem conceptes
dels SGST.



\begin{description}

\item[Calanda] \textcite{dreyer94} proposen els requeriments de propòsit específic que han de complir els SGST i basen el model en quatre elements estructurals bàsics: esdeveniments, sèries temporals, grups i metadades, a banda de les bases de dades per sèries temporals. Implementen un SGST anomenat Calanda \parencite{dreyer94b,dreyer95,dreyer95b} que té operacions de calendari, pot agrupar sèries temporals i respondre consultes simples i ho exemplifiquen amb dades econòmiques. A \cite{schmidt95} es compara Calanda amb els SGBD temporals que operen amb sèries temporals. 




\item[T-Time] \textcite{assfalg08:thesis} mostra un sistema que pot cercar similituds calculades com a distàncies entre sèries temporals. Principalment, dues sèries temporals es marquen com a similars si la seva distància és menor que un llindar en cada interval. A partir d'aquest mètode dissenya algoritmes eficients que implementa en un programa anomenat T-Time \parencite{assfalg08:ttime}.


 
\item[iSAX] \textcite{keogh08:isax,keogh10:isax} estudien l'anàlisi i l'indexat de co\l.lecions massives de sèries temporals. Descriuen que el problema principal del tractament rau en l'indexat de les sèries temporals i proposen mètodes per calcular-lo de manera eficient. El mètode principal que proposen està basat en l'aproximació a trossos constants de la sèrie temporal \parencite{keogh00}.  Ho implementen en una estructura de gestió de dades que anomenen \emph{indexable Symbolic Aggregate approXimation} (iSAX) \parencite{isax}. Les representacions de sèries temporals que s'obtenen amb aquesta eina permeten reduir l'espai emmagatzemat i indexar tant bé com altres mètodes de representació més complexos.




\item[TSDS]
\textcite{weigel10} noten la necessitat de mostrar les dades en tot el seu rang temporal i no només en un subconjunt com normalment s'ofereixen. Desenvolupen el paquet informàtic \emph{Time Series Data Server} (TSDS) \parencite{tsds} a on es poden introduir les dades de sèries temporals per posteriorment consultar-les per rangs temporals o aplicant-hi filtres i operacions.





\item[RRDtool]
RRDtool \parencite{rrdtool} {é}s un SGBD molt usat per la comunitat de programari lliure. Projectes en diversos camps l'utilitzen com a SGBD, en els quals hi ha sistemes de monitoratge professionals, també en l'àmbit de programari lliure, com Nagios/Icinga \parencite{nagios,icinga} o el Multi Router Traffic Grapher (MRTG) \parencite{mrtg}. Aquests monitors transfereixen a RRDtool la responsabilitat de gestionar l'emmagatzematge i d'operar amb les dades, i així es poden centrar en l'adquisició de dades i la gestió d'alarmes. 
En l'evolució de RRDtool hi ha dues millores destacables. En primer lloc, \textcite{lisa98:oetiker} va separar el sistema de gestió de RRDtool de MRTG i el va dissenyar amb una estructura característica de Round Robin. En segon lloc,  \textcite{lisa00:brutlag} va estendre RRDtool amb algoritmes de predicció i detecció de comportaments aberrants. 

Actualment, s'està estudiant l'eficiència i rapidesa de RRDtool a processar sèries temporals. \textcite{carder:rrdcached} ha dissenyat una aplicació, \emph{rrdcached}, que millora el rendiment de RRDtool amb la qual s'aconsegueix fer funcionar  simultàniament sistemes amb grans quantitats de bases de dades RRDtool \parencite{lisa07:plonka}. \textcite{jrobin} han dissenyat una adaptació de RRDtool anomenada \emph{JRobin}. 
Finalment, és destacable l'ús emergent de RRDtool en entorns d'experimentació, com és el cas de \textcite{zhang07} i \textcite{chilingaryan10} que hi emmagatzemen dades experimentals per posteriorment predir o validar-les.


\item[Cougar]
\textcite{cougar,fung02} proposen Cougar com un SGBD per xarxes de sensors (\emph{sensor database systems}). El sistema té dues estructures \parencite{bonnet01}: una basada en relacions per les característiques dels sensors i una basada en seqüències per les dades dels sensors, les quals són sèries temporals.
Les consultes es processen de manera distribuïda: cada sensor és un node amb capacitat de processament que pot resoldre una part de la consulta i fusionar-la amb les altres. D'aquesta manera es minimitza l'ús de comunicacions però l'estructura i estratègia de comunicació dels nodes esdevé una part crítica a configurar \parencite{demers03}.

\item[TinyDB]
Un altre prototip de SGBD per xarxes de sensors desenvolupat para\l.lelament a Cougar és TinyDB \parencite{tinyDB,madden05}. A part de les característiques descrites per Cougar, aquest sistema  modifica i s'implica en parts del procés d'adquisició de les dades com és el temps, la freqüència o l'ordre de mostreig. Per exemple donada una consulta que vol correlacionar les dades de dos sensors, el sistema indica als sensors implicats que han d'adquirir amb la mateixa freqüència.

\item[SciDB]
\textcite{stonebraker09:scidb} estudien els SGBD científiques amb models  de dades basats en matrius. Estan desenvolupant SciDB \parencite{scidb}, un SGBD productiu i optimitzat per treballar amb matrius.


\item[SciQL]
\textcite{kersten11} descriuen SciQL, un llenguatge per a SGBD científiques basades en matrius. Hi ha un prototip en desenvolupament de SciQL \parencite{sciql}.


\end{description}


%SETL http://setl.org/setl/ un llenguatge de programació d'alt nivell que té els conjunts i els mapes de primer ordre com a parts fonamentals. Els tipus bàsics són conjunts, conjunts desordenats i seqüències (també anomenades tuples). Els mapes són conjunts de parelles (tuples de mida dos). Les operacions bàsiques inclouen la pertinença, la unió, la intersecció, etc.


\todo{}


OpenTSDB \cite{deri12:tsdb_compressed_database}
\url{http://opentsdb.net/}
Han fet anàlisis del rendiment de RRDtool, MySQL i la seva implementació TSDB i conclouen que RRDtool és el que pitjor funciona per a sèries temporals. La seva implementació, TSDB, es basa en la compressió de dades. Assumeixen que les sèries temporals són regulars i totes tenen el mateix patró de mostreig, fet que els permet implementar les gestió de les sèries temporals de manera més senzilla.
\todo{Potser hauria de classificar els SGST segons si es basen en compressió de dades (aquest tsdb, iSAX..), en Round Robin (RRDtool), vectors (SciQL), SQL (?) ...}




\url{http://pandas.pydata.org/pandas-docs/stable/index.html}

\url{http://pytseries.sourceforge.net/}



http://stackoverflow.com/questions/4814167/storing-time-series-data-relational-or-non



\url{http://2013.nosql-matters.org/bcn/abstracts/#abstract_gianmarco}

Streaming data analysis in real time is becoming the fastest and most efficient way to obtain useful knowledge from what is happening now, allowing organizations to react quickly when problems appear or to detect new trends helping to improve their performance. In this talk, we present SAMOA, an upcoming platform for mining big data streams. SAMOA is a platform for online mining in a cluster/cloud environment. It features a pluggable architecture that allows it to run on several distributed stream processing engines such as S4 and Storm. SAMOA includes algorithms for the most common machine learning tasks such as classification and clustering. 






\todo{} També hi ha molts sistemes propis d'empreses que van lligats
amb els seus productes. Ara bé ofereixen molt poques capacitats de
SGST i les que ofereixen són molt restringides a l'àmbit a on estan
dirigits els productes; és a dir que no són genèrics i són més aviat
controladors del procés d'adquisició. Per exemple Keller
\url{http://www.catsensors.com/ca/productes/varis__software/logger_4x}, permet desar dades cada un cert període amb estructura d'anell (és a dir eliminant les més antigues quan és ple) però només té un anell. A banda permet detectar certs esdeveniments i aleshores canviar el període de mostreig. A banda permet també emmatgazemar alguns estadístics de les dades: mitjana i rang cada certs segons.


\subsection{Conclusió}

Els SGST actuals bàsicament resolen alguns problemes d'anàlisis de sèries temporals.
Però no solen atendre la relació entre la base de dades i el sistema de monitoratge, és a dir la manera com s'adquireixen les dades. En aquest pas intermig hi ha un sèrie de problemes, com per exemple forats, dades falses o irregularitat en els temps de mostreig, que cal gestionar correctament. Concretament un dels problemes que no s'atén és el de mostreig irregular ja que es considera que les mostres estan a intervals regulars (equi-espaiades) encara que els sistemes de monitoratge informàtics sovint no són capaços de complir-ho amb exactitud sinó que presenten una certa variació en els temps de mesura. 

RRDtool n'és una excepció ja que, per ser un sistema productiu, el processament de dades i emmagatzematge és més proper als sistemes de monitoratge. No obstant, està centrat en un tipus de dades particulars, les magnituds i els comptadors, i no té tantes operacions generals per les sèries temporals com els altres SGST.

També Cougar i TinyDB que exploren l'encaix dels SGBD en entorns distribuïts de xarxes de sensors. Proposen noves estratègies de comunicació amb l'objectiu d'ajustar el consum d'energia. 


SciQL, un model recent per SGBD  basat en matrius, és el que més es pot considerar com a SGST, ja que s'està desenvolupant per complir-ne algunes propietats.




\subsection{Sèries temporals vs. senyals digitals}
\todo{}

Un senyal digital és un senyal (una quantitat que té informació) representat per una seqüència de valors discrets de la quantitat. Un senyal analògic és un senyal representat per una quantitat que varia contínuament.

La similitud és gran entre els conceptes de sèrie temporal i de senyal digital. La possible diferència rau en els principis assumits en els senyals digitals:
\begin{itemize}
\item Un senyal digital generalment es considera com a dades equi-espaiades en el temps.
\item La posició absoluta en el temps de les mostres d'un senyal digital no és rellevant. A més el temps no es considera continu (com a les sèries temporals) sinó que s'assumeix en el sentit estricte de seqüència a on els elements tenen ordre entre ells i una distància segons el ja dit de dades equi-espaiades.
\item Un senyal digital s'entén com un senyal amb una certa periodicitat (conseqüentment té sentit estudiar-los en el domini de la freqüència).
\item El teorema de mostreig de Shanon-Nyquist és vital en els senyals digitals. A les sèries temporals l'inframostreig pot ser tolerat en alguns casos.
\end{itemize}

Quan una sèrie temporal compleix els paràmetres anteriors aleshores és totalment semblant a un senyal digital. Moltes vegades en el treball amb sèries temporals s'assumeixen aquests principis i per tant realment s'estan aplicant operacions del processat digital de senyal.



%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End: 

% LocalWords:  monitoratge
