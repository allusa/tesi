\chapter{Estat actual}

\section{Sèries temporals}

* Mineria sèries temporals
  
  - mineria
  - aplicacions

* SGBD
 - model relacional
 - implementacions

    - SGBD+xarxes
    - Per sèries temporals

\section{Sèries temporals}

%http://tex.stackexchange.com/questions/26401/help-to-develop-a-textcite-command-to-be-used-with-verbose-citation-styles-in-b
% \makeatletter

% \protected\def\blx@textcitepunct#1{%
%  \blx@citeargs{\blx@textcitepunct@i{#1}}}
% \long\def\blx@textcitepunct@i#1#2#3#4{%
%  \blx@thecheckpunct{\blxcitecmd{#1}{#2}{#3}{#4}}}

% \renewrobustcmd*{\textcite}{\blx@textcitepunct{textcite}}
% \long\csdef{blx@cite@textcite}#1#2#3#4{%
%   \AtNextCite{%
%     \let\multicitedelim=\textcitedelim}%
%  \citename{#3}[first-last]{labelname}%
%  #4% Move trailing punctuation between two citation commands
%  \foocite[#1][#2]{#3}}

% \makeatother


Aquí tenim a \textcite{stonebraker07}.

Un exemple ben buscat \textcite{stonebraker07}, però no

Cal buscar a  \parencite{stonebraker07} 


Important! Diferència entre dades temporals i sèries temporals.



\section{SGBD+xarxes}



Podem tenim les dades distribuïdes en diferents sensors i quan es llança una consulta es decideix a on s'ha de resoldre.






\section{Intro}
\label{cap:estat}

En aquest capítol se situen els sistemes de gestió de bases de dades (SGBD) per sèries temporals en el context de la mineria de dades de sèries temporals (\emph{time series data mining}), el qual també es considerat com mineria de dades per  detectar automàticament coneixement (\emph{knowledge discovery databases}). Els SGBD de model Round Robin (RRD) pertanyen a aquest context ja que  emmagatzemen sèries temporals  de les quals es vol aconseguir informació rellevant.


El capítol comença resumint l'estat de les sèries temporals en aquest camp de mineria; és a dir d'emmagatzematge i tractament. A continuació es llisten algunes aplicacions informàtiques que han implementat models de la mineria de sèries temporals. Finalment, es descriu l'estat actual de l'aplicació RRDtool, la qual també es classifica en aquest camp.




\section{Mineria de sèries temporals}

L'anàlisi de sèries temporals abasta camps molt diferents com ara la predicció econòmica, la medicina, la meteorologia, la qualitat industrial, etc. En aquest context,  la mineria de sèries temporals tracta de gestionar co\l.leccions cronològiques de dades que tenen una mida gran i contínuament estan en creixement. 
Aquest apartat se centra en  l'estat actual de la mineria de sèries temporals, àmbit que, en la darrera dècada, ha experimentat un important increment de la recerca.


En un article molt recent de \textcite{fu11}, es fa esment d'aquest increment de recerca i es resumeix l'estat actual de forma exhaustiva. Fu conclou que la recerca s'ha centrat en tasques de mineria però no s'ha resolt del tot el problema de la representació de sèries temporals.

Segons \textcite{keogh02}, les quatre tasques que centren l'atenció de la recerca actual de sèries temporals són l'indexat, l'agrupament, la classificació i la segmentació. A més, Keogh compara els experiments duts a terme en aquests camps.
Un pas comú previ a aquestes quatre tasques és el de representació de la sèrie temporal. 
\textcite{keogh97,keogh98} investiguen la representació de sèries temporals a trossos lineals (PLR, \emph{Piecewise Linear Representation}). Keogh fa notar que la representació PLR és l'habitual degut a que la visió de l'ésser humà segmenta les corbes en línies rectes.
Més tard \textcite{keogh00,keogh01} exploren la representació de sèries temporals per tal de reduir la dimensió d'una sèrie temporal i poder-la indexar més fàcilment  i proposa dues tècniques eficients en el càlcul: la PAA (\emph{Piecewise Aggregate Aproximation}) i  la APCA (\emph{Adaptive Piecewise Constant Approximation}), ambdues basades en la representació a trossos constants de la sèrie temporal. 
D'aquestes dues tècniques Keogh conclou que mantenen una bona aproximació a la sèrie temporal i que a més  tenen molt menys cost de càlcul que altres de més complicades, com ara la \emph{Discrete Fourier Transform} (DFT),  la  \emph{Singular Value Decomposition} (SVD) o la \emph{Discrete Wavelet Transform} (DWT).



\subsection{Aplicacions de les sèries temporals}

Tal com expliquen \textcite{quevedo10}, en un sistema complex de telecontrol hi ha una gran quantitat d'informació a manipular que s'obté de diversos sensors distribuïts pel camp de mesura, aquesta informació s'anomena variables mesurades. Un SCADA (\emph{Supervisory Control And Data Acquisition})  és el sistema encarregat de recollir i centralitzar les variables de manera periòdica en el temps. En el moment de reco\l.lecció de dades apareixen dos problemes: valors que en un instant de temps prefixat no s'han pogut recollir i valors que són falsos. Les tècniques de bases de dades no poden emmagatzemar les dades amb aquests dos tipus de problema ja que aleshores els registres històrics quedarien falsejats. Així doncs, cal comprovar que les dades emmagatzemades són correctes, segons un procés de validació, i modificar-les en el cas que siguin falses, segons un procés de reconstrucció. \textcite{quevedo10} aplica aquests processos a xarxes de distribució d'aigua.

Els mètodes de validació i reconstrucció es poden basar en anàlisis senzilles del senyal o en comparacions del valor real amb models de predicció de dades. Quan les dades es tracten com a sèries temporals, hi ha mètodes de predicció específics.
Tot i que la teoria de sèries temporals permet establir aquests mètodes de predicció i reconstrucció, els SGBD habituals, com ara els de model relacional, no ho faciliten.  
Per tal d'aplicar aquests mètodes a les sèries temporals de manera eficient, els SGBD s'han d'especialitzar en el tractament de sèries temporals.











\section{SGBD}

Els sistemes de gestió de bases de dades (SGBD) 



L'any tal Codd va proposar un model relacional pels SGBD (SGBDR) que va revolucionar aquest àmbit. A partir de llavors els SGBDR han anat evolucionat, amb Date com a principal divulgador, fins a tenir una gran solidesa.

Avui dia, no hi cap implementació comercial que segueixi fidelment el model relacional \todo{citar date}, tot i que n'hi ha que caminen cap aquest camí (rel,TransRelational). Això ha contribuït a que per una banda hi hagi hagut una sèrie de malentesos i errors que Date s'ha encarregat de desmentir en nombroses publicacions \todo{citar, sobretot ddbunk} i per altra banda també ha contribuït en gran mesura a voler explorar altres models.              


Alguns SQL squirks (the possibility of nulls, the possibility of duplicate rows, the
fact of left-to-right column ordering, and so on), tema modernament discutit són els nulls [datesigmod2008]

Alguns malentesos també es deuen en l'ús de la mateixa terminologia amb significat diferent entre el model relacional i l'orientació a objectes, sobretot pel que fa als termes valor i variable. 

Relacional: tipus | representació |  valor, objecte, instància  | variable  | referència (adreça continguda en una variable) | operadors (de lectura i de modificació)
Objectes: tipus, classe (tipus amb atributs i mètodes), interfície | classe, atributs,propietats  |  valor, estat, objecte/instància immutable/estàtic |  valor, objecte/instància mutable/dinàmic  | variable | funcions,mètodes (funcions dins de classes) (purs o modificadors)

Aquesta confusió pot ser deguda a 'the object model' is closer to being a model of storage than it is to being a model of data. [date06]


Hi han hagut algunes propostes per apartar-se del model relacional, com pot ser recuperant models antics de xarxa (Xquery) o bé utilitzant el paradigma de programació d'objectes \todo{cites}, tot i que Date i altres consideren que no estan ben fundades i cap d'aquestes té la mateixa potència que el model relacional. Actualment s'està treballant en una implementació fidel al model relacional \todo{citar}. 

Date i altres consideren la possibilitat, tot i que remota, que es pugui definir un model més potent que el relacional però que no hi ha cap indici que cap definició ho estigui aconseguint ni de fet explorant. Per tant, aconsellen que cap aplicació de gestió de bases de dades no s'allunyi del model relacional.


El model relacional es basa en la lògica de predicats i la teoria de conjunts.





Com s'ha d'estendre el model relacional?

Date i altres consideren que el model relacional va evolucionat i no consideren que hi hagi hagut cap revolució des de la seva aparició. (Tot i que han definit una nova àlgebra relacional anomenada 'A' que fa molt bona pinta). Consideren que el model relacional està bastant completat i l'evoluciona en petites modificacions de comprensió. 

Només hi ha hagut un àmbit en el que han admès que s'havia d'estendre el model relacional i aquest és el de les dades temporals \todo{citar}.  'Support for interval-valued attributes (and hence for temporal databases) involves among other things support for
%generalized versions of the usual relational operators.' [date]            Note: Those “U_” operators are all defined in terms of two new relational operators called pack and unpack,
and those latter operators in turn are defined in terms of relation-valued attributes. As already noted, therefore, support
for interval-valued attributes relies on support for relation-valued attributes, at least conceptually. 




Així doncs no hi ha necessitat d'estendre el model relacional. Sí que hi ha necessitat, però, de tenir disponibles diversos tipus de dades. La creació de nous tipus de dades ha estat un tema de molta confusió ja que les 'suposades' implementacions del model relacional no ho han permès, o les extensions proposades per \textcite{stonebraker86} es consideren que són a nivell d'implementació i no les que es desitjarien a nivell de model, i sobretot ha fet que les implementacions basades en orientació a objectes tinguessin un gran impacte \todo{citar ODMG (object databases)}. Date ha rebutjat aquesta idea argumentant que el model relacional mai no ha fixat els tipus de dades disponibles sinó que ben al contrari mai n'ha parlat i per tant els tipus de dades han tingut total llibertat de creació; si bé el model relacional defineix que com a mínim hi ha d'haver el tipus booleà i el tipus relació.

El model relacional requereix que hi hagi un 'sistema' de tipus però diu molt poc de la naturalesa d'aquest sistema de tipus; això es coneix com a ortogonalitat entre les relacions i els tipus.



Així doncs, tenint en compte que segons Date el model relacional és complet, que no hi ha cap de tant potent i que l'ampliació de funcionalitat dels SGBDR s'ha de fer mitjançant la creació de nous tipus, el SGST hauria de contemplar aquestes idees. 

Primer s'hauria de veure que el cas de les sèries temporals no sigui com el cas de les dades temporals a on sí que s'ha necessitat estendre el model relacional.

Segon, s'hauria de considerar que el SGST són un nou tipus de dades en el model relacional i per tant el model relacional ja té tota la potència per una banda constituir SGBD i per altra banda definir i incorporar nous tipus.


Com es defineixen nous tipus complexos als SGBD?

En el cas que es descarti que el cas dels SGST presenta els mateixos problemes que les dades temporals i per tant els SGST han d'esdevenir un tipus de dades, cal preguntar-se com són els tipus de dades al model relacional.

Concretament el model relacional només defineix què es un tipus de dades però dóna llibertat a la seva creació. Això és un gran avantatge. En els cas de tipus de dades senzills es defineixen amb una bona estructura i ja està però què passa quan es vol definir un nou tipus de dades complex?

Cal recercar com s'han definit nous tipus de dades complexos. Els principals problemes es donen que el tipus és complex i forma una entitat de per sí. És a dir que definir un tipus sèrie temporal no és trivial. Aleshores, com cal procedir?



Sobre la necessitat de modelar els tipus.

Cal definir un model pel tipus que volem dissenyar.
De fet, volem dissenyar un SGST. És a dir, un tipus que conformi pròpiament un SGBD. Per tant, utilitzarem les mateixes eines que es fan servir per modelar els SGBDR per a poder modelar el nostre SGST. Com que s'hauran utilitzat les mateixes eines, el SGST podrà esdevenir perfectament un tipus de dades pels SGBDR.

En resum, per a definir nous tipus complexes cal modelar-los com a entitat pròpia, fent un símil amb el model relacional. Això no vol dir, però, que un cop modelats constitueixin de per sí un nou model per als SGBD, sinó que queden dins dels SGBDR. \todo{caldria} elaborar més i trobar alguna pista de com definir nous tipus complexos, stonebraker86 només indica com es va estendre postgresql amb operadors de creació de nous tipus però no com s'han de modelar els nous tipus.

Volem crear un nou model de SGBD, Date ens diu que només hi ha el model relacional, per tant hem d'utilitzar el model relacional per a definir el nostre nou model.




\subsection{Sobre implementació i model}

Diferència entre implementació i model segons Date. Això aporta independència de dades; molt important: els models no han de tenir detalls d'implementació ni parlar d'objectius de rendiment.
Actualment hi ha certa confusió sobre la independència entre el model i la implementació, com es veu tot seguit.


Recentment ha aparegut un nou corrent en l'àmbit dels SGBD que s'anomena NoSQL (Not Only SQL). Diuen que volen sobrepassar les limitacions dels SGBD relacionals. Crec que aquí hi ha un malentès, deuen voler dir sobrepassar les limitacions de les implementacions comercials del model relacional, moltes vegades referides com a SQL pel llenguatge de consulta que utilitzen. En alguns casos a NoSQL es confon implementació amb model ja que es parla de que NoSQL millora el rendiment dels SGBD però en el model mai es parla de rendiment. 

És més, en Date es posiciona en contra de SQL per ser una mala implementació del model relacional, i ha desenvolupat el llenguatge TutorialD que precisament no és SQL. 


Tornant a NoSQL, aquest no genera cap conflicte amb el model relacional. Sovint NoSQL critiquen els SGBD relacionals per voler ser 'one size fits all' \parencite{stonebraker07,stonebraker09} però que cada aplicació té els seus requisits i per tant una mateixa implementació no pot ser bona per a tots el camps. El model relacional no hi pot estar més d'acord amb aquesta afirmació: un model, infinites implementacions. Així doncs aquí hi ha el malentès per culpa de les implementacions errònies de SQL. El model relacional continua sent vàlid i admet qualsevol implementació: ha admès durant anys les denominades SQL, a les quals ha criticat per ser males implementacions, i ara pot admetre les NoSQL. En principi, el model relacional, per ser un model de 'tots' els SGBD, també descriu els productes NoSQL.

No obstant, caldria observar si els productes NoSQL pateixen el mateix mal que els SQL: fer una mala implementació del model relacional. TuotialD és, o pretén ser, una implementació completa del model relacional tot i que a nivell acadèmic.
Ara bé, una implementació d'un SGBD que vulgui  obtenir un bon rendiment en una determinada aplicació potser no pot implementar el model relacional complet sinó que només una part; aleshores aquesta implementació no es pot anomenar SGBD relacional? És a dir, a què s'anomena SGBD relacional? -Un que es pot modelar amb el model relacional: tots(en el moment actual)? -Un a on l'usuari hi veu clarament els conceptes del model relacional.

Actualment sembla que la comunitat informàtica s'ha centrat en les implementacions (garantir propietats ACID, no garantir-les, optimització de consultes, emmagatzematge de grans volums de dades, consultes via web, bases de dades distribuïdes, gastar el mínim d'energia, etc.) \parencite{stonebraker07,stonebraker10}, la qual cosa és excel·lent per a disposar un SGBD adequat a cada aplicació i per tant ha de continuar treballant en aquest camí. Ara bé, sembla que ha oblidat que hi ha un model, el relacional, que descriu com ha de ser un SGBD per a obtenir la màxima potència de cara a la gestió de dades per part de l'usuari i que encara no s'ha trobat cap altre model que tingui la mateixa potència. 







\section{Preguntes}

El llenguatge dels SGBD, per exemple D, és declaratiu (what) i no procedural/imperatiu (how). Com lliguen els SGBD amb els llenguatges de programació declaratius, per exemple amb la programació lògica amb Prolog? Concretament, com lliga Prolog amb el concepte de SGBD? Té la mateixa potència un SGBD que Prolog?
 Es pot veure Prolog com un SGBD?

http://stackoverflow.com/questions/2117651/difference-between-sql-and-prolog





%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "main"
%%% End: 
