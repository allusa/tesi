\chapter{Treball futur}
\label{sec:futur}


En aquest capítol es proposen treballs futurs a partir del que s'ha  dissertat en aquest document.

% * El temps pot ser vist com un valor amb incertesa. Aleshores què passa amb les operacions?



En les implementacions només hem tingut en compte el nivell acadèmic,
no incorporem cap mena d'optimització del rendiment. de fet, aleshores
s'allunyarien del model, i nosaltres volem mantenir una
correspondència molt forta entre la forma de la implementació i del
model.  A RoundRobinson, la implementació més completa, hem tingut
problemes a l'hora de definir mesures genèriques: hem hagut
d'introduir mesures de diferents tipus, que indiquen el rang del
domini de valors per a calcular-ne el màxim i el mínim, etc. En el
model abstracte matemàtic és senzill de descriure uns valors genèrics,
en canvi a les implementacions això complica l'estructura: cal
repensar una forma més senzilla d'implementar aquesta genericitat. En
altres casos de genericitat en el model inicialment també teníem
problemes per a implementar-ho però ho hem pogut solucionar: per
exemple la multitud d'operacions de les sèries temporals implementades
amb Mixins, qualsevol mètode de representació implementat com ?? o les
funcionalitat complementàries com fer gràfics implementades amb patró
Visitor.  Una mostra que es pot millorar molt el codi és que canviant
mètode add de les TimeSeries amb MeasureTotalEquality hem aconseguit
una millora espectacular de temps de computació: en la inserció cal
cercar que no hi hagin temps repetits i ara s'aprofita la cerca dels
sets de Python mitjançant hash.


* No ens hem entrat profundament en Hadoop, només l'utilitzem com a intèrpret de la tècnica MapReduce. Futur: determinar un bon ús de la computació para\l.lela a Hadoop: quantitat de maps, de reduces, etc. Només hem provat amb un node de computació, possibilitat de més nodes.



* Experimentació amb dades: només demostrem el correcte funcionament de la multiresolució. No avaluem rendiment dels recursos, per exemple no avaluem temps de computació només n'hem mostrat un a tall de referència orientativa.  Cal provar amb més diversitat: dades de diferent mida, de diversa naturalesa, diferents esquemes de multiresolució, dades de referència utilitzades en altres recerques (per exemple keogh?)

* Implentació RoundRobinson: ha quedat de forma semblant a Dee, és a dir que és una API en Python que té orientació de \gls{SGBD}. És a dir, l'usuari quan treballa amb RoundRobinson pot tenir perfectament una estructura mental de com si treballés amb una base de dades.


%HEm fet servir estadístics senzills (mitjana, màxim, darrer) perquè el nostre objectiu és la multiresolució i no cap funció d'agregació d'atributs en concret. En l'anàlisi de sèries temporals hi ha multitud d'algoritmes, d'allà es poden treure altres funcions d'agregació: que extreguin patrons, que cerquin periodicitats, que ajustin l'evolució en el temps de dues sèries temporals diferents, etc.

També l'emmagatzematge de metades, es  pot fer perfectament amb els SGBDR.

Això no obstant, el rendiment ja no és només calcular en poc temps, sinó que en alguns contextos pot ser un consum baix d'energia, ocupar poc espai, etc.
És a dir, que hi ha contextos i en cadascun el rendiment vol dir una cosa o una altra. Dir això per a introduir la implementació Hard

\subsection{Reflexions de la qualitat}
% En el cas que es conegui més bé el context i el comportament de la
% sèrie temporal a què s'aplica la multiresolució, es pot detallar més
% bé la quantificació de l'error: és a dir en termes de la teoria de
% la informació aleshores tenim més coneixement sobre la predicció del
% comportament de les dades i podem utilitzar-ho per a avaluar
% característiques més concretes.

% Cal notar que no avaluem la idoneïtat d'aplicar un estadístic o un
% altre a unes dades ni quin és el que més bé va per a obtenir una
% informació, només plantegem el cas que algú vol aplicar una consulta
% amb una agregació determinada a una sèrie temporal i quin error
% tindria si en comptes de a les dades originals ho aplica a les dades
% multiresolucionades.





% We have showed some aggregation functions examples with simple
% aggregation statistics, mean and maximum, and simple representation
% methods, Delta and \zohe{}. More attribute aggregation functions could
% be designed based on methods from other fields such as data streaming
% or time series data mining, especially it would be interesting aggregations with uncertain data.

% * Agregacions en el domini freqüencial


% * Aclariment sobre les operacions: algunes són perfectament conseqüència de conceptes (per exemple la diferència té un raonament a partir de la pertinença, la intersecció a partir de la diferència) altres hi ha conseqüència però s'ha de prendre una decisió (per exemple en el cas de la unió i la unió temporal s'ha de decidir quina és quina) i altres les hem definit com a passos intermedis per a altres oepracions (per exemple la concatenació temporal). En aquest darrers casos cal, doncs, cercar-ne si hi ha algun raonament o teoria sobre el qual es poden basar.

* Implementar variacions dels \gls{SGSTM}


% * el model sgstm s'ha fet pensant en els instants de consolidació
% periòdics. Què passa quan no ho són?  per exemple event trigerred
% (només emmatgatzemem informació quan creiem que és
% interessant). Aleshores potser són casos molt especials i no es pot
% dibuixar l'esquema? Potser posar tot això com a comentari a la secció
% d'Altres Estructures: En el model de \gls{SGSTM} s'ha considerat que
% la consolidació es feia periòdicament però es podria fer quan es
% cregués oportú, aleshores no es pot preveure quin esquema de
% multiresolució hi haurà; són casos que requereixen un estudi més
% profund. Etc. 


% \subsubsection{Operacions habituals en les sèries temporals}


% \paragraph{Semblança de dues sèries temporals}


% Similarity Measures for Time Series

% Hi ha varis mètodes, [keogh08:vldb] n'avalua uns quants i els generalitza amb:

% Given two
% time series T1 and T2 , a similarity function Dist calcu-
% lates the distance between the two time series, denoted by
% Dist(T1 , T2 ).

% Exemplifiquem amb la distància euclídia, [keogh08:vldb] nota que és
% competitiva amb les altres.

% Distancia euclídia segons [faloutsous94-sigmod]


% \[
% D(S,Q) = \left( \sum_{i=1}^{l} (S[i]-Q[i])^2  \right)^{1/2}
% \]

% \begin{gather*}
%   D: S \times Q \longrightarrow v: \\
%   S' = map(fusio(S,Q),(t,v_1,v_2)\mapsto(t,(v_1-v_2)^2)), \\
%   S'' = fold(quad,(0,0),(t^1,v^1,t^2,v^2)\mapsto(t^1,v^1+v^2)), \\
%   v = \sqrt{V(m)}:m\in S''
% \end{gather*}


% S i Q haurien de ser regulars entre elles, sinó cal aplicar una fusió amb representació/interpretació.

% Amb la multiresolució la fusió es pot fer de forma eficient. Per altra banda, es podria crear un disc resolució amb agregador de semblança.


% \paragraph{Semblança de dues sèries temporals amb offset}

% Aquí es descriu la solució general del problema (SequentialScan),
% [faloutsous94-sigmod] n'estudia implementacions amb certes
% heurístiques que aconsegueixen més eficiència.





% \paragraph{Filtratge senzill per mitjana mòbil}

% Sigui $p$ la mida de la finestra mòbil
% \begin{gather*}
%   \text{MitMobil}: S \times \text{p} \longrightarrow S':\\
%   \text{map}(S,(t,v)\mapsto \text{mitjanaV}(S[t,t+p]))
% \end{gather*}


% Mitjana mòbil sobre la multiresolució



% \paragraph{Farciment de forats}

% Jo tinc una sèrie temporal i vull que entre dues mesures no hi hagi més d'un cert temps. Si no es compleix dic que té forats. 

% Sigui $S$ una sèrie temporal, aquesta té forats de més durada que $d$
% si alguna mesura compleix $\text{forats}(S,d) = \text{selecciona}(difT(S),v>d \bigwedge v\neq\infty)$ a on $difT(S) = \text{map}(\text{tpredecessors}(S),(t,v)\mapsto(t,t-v))$.

% Amb la multiresolució el farciment de forats és natural a l'estructura i és controlat per la funció agregadora d'atributs.


% * Com farciria els forats manualment a una sèrie temporal?

% 1. Passar-ho per un esquema de multiresolució

% 2. Treballar sobre la sèrie temporal:

% a partir del càlcul de forats anterior $\text{forats}(S,d)$ per
% exemple apliquem un farciment amb representació
% zohe. $\text{farciment}(S,d) = \text{unio}(S,S')$ a on fem la selecció
% de resolució $S' = S[T]^{\text{zohe}}$, $\forall (t,v) \in
% \text{forats}(S,d): T = \{ \tau = t - dn |
% \tau\in(t-v,t),n\in\mathbb{N} \}$.







% \subsubsection{Com treure profit de les operacions dels SGSTM}

% Temes que després es poden aprofitar a les implementacions

% * No hi ha updates --> les sèries temporals no s'han de canviar

% * Per exemple, vull calcular la mitjana de  BDSTM(a,b] si tinc un disc resolució amb $\delta=b-a$ i $f=$mitjana aquest seria l'adequat en comptes de calcular mitjana(SerieTotal(M)(a,b])

% %??
% % No obstant, la base de dades multiresolució conté informació sobre la
% % resolució de les subsèries i per tant aquesta operació és susceptible
% % d'implementar-se aprofitant aquesta informació.  A tall d'exemple es
% % defineix una operació per extreure de la base de dades multiresolució
% % una sèrie temporal regular amb període $T$:


% % \begin{definition}[Selecció de resolució regular]
% %   \begin{gather*}
% %     \text{ResolucióRegular}: M^* \times T \times r \longrightarrow S'\\
% %     \forall (S_{Bi},S_{Di},\delta_i,\tau_i,k_i,f_i) \in M : \\
% %     d_i = T - \delta_i , \\
% %     0 \geq d_0 > d_1 \dots > d_a, 0 < d_{a+1} < \dots < d_d: \\
% %     S'' = S_{D0} || S_{D1} || \dotsb || S_{Da}  ||  S_{Da+1} || \dotsb || S_{Dd}, \\
% %     S' = S''[i]^r: i = {t|0+nT,n\in\mathbb{N}}
% %   \end{gather*}
% % \end{definition}

% % Nota: les operacions no són equivalents, l'operació $\text{SerieTotal}(M)[i]^r$ és molt més potent que la $\text{ResolucióRegular}(M,T)$.




% \subsubsection{Semàntica de comportament}

% \todo{?}



% \subsubsection{Lapses de buffer o no lapses}

% Podem tenir esquemes de multiresolució a on les diferents subsèries
% resolució coincideixin en els temps recents o a on no coincideixin:
% les subsèries més velles acabin on comencen les noves de manera
% semblant a l'estructura de buffers enllaçats.

% La primera opció pot servir per quan hi ha moltes dades tenir diferents resums preparats per a ser visualitzats, així permet triar ràpidament entre diferents zooms de les dades.

% La segona opció serveix per aprofitar al màxim la resolució i l'espai d'emmagatzematge, sense que cap subsèrie desi informació per al mateix interval de temps. Així permet conservar una sèrie temporal al llarg del seu temps amb diferents resolucions. També pot servir per usar la informació d'altres buffers i no haver de repetir emmagatzematge de buffers.







\subsubsection{Arquitectura RRDtool}


% RRDtool té una estructura multiresolució amb un buffer únic d'entrada
% i buffers orientats a stream; segons havíem avaluat anteriorment \parencite{llusa11:tfm}.


% S'ha d'estudiar com es fan les consultes a RRDtool

% \url{http://en.wikipedia.org/wiki/RRD_Editor}



% Podem considerar que:

% 1. RRDtool és un SGBD NoSQL?
% 2. Nosaltres n'hem formalitzat un model lògic?
% 3. És el primer model lògic per a un producte NoSQL?
% 4. Aquest model lògic es pot implementar tant en productes relacionals com amb NoSQL? i per tant es demostra que els models lògics són extremadament potents i necessaris?
% 5. La implementació que fa RRDtool és molt eficient per a un determinat camp d'aplicació?
% 6. La implementació relacional seria molt genèrica i propera al model però no tan eficient? més aviat subjecte a l'eficiència genèrica dels SGBDR?
% 7. Els SGST són uns SGBD més simples? no tenen tantes actualitzacions de valors, no hi ha tantes relationships en l'esquema... Els SGST només es preocupen de sèries temporals i per tant només d'un tipus de dades en concret, això no obstant tal com s'ha dissenyat el model aquest tipus de dades es pot implementar en SGBD més complexos. 

Hi ha RRDtool, que és un SGBD específic dissenyat per a dades monitorades. Les causes del seu disseny són:

* Tobias Oetiker dissenyava un monitor de paràmetres de xarxes de comunicacions i en aquest monitor una part era la d'emmagatzematge de les dades. Per raons pràctiques i d'utilitat dissenya aquesta part amb un esquema inovadós. Finalment acaba separant aquesta part i la converteix independentment en RRDtool.

* RRDtool té aquest model pràctic i a la pràctica és molt útil per a ser usat com a SGBD dels sistemes de monitoratge, sobretot en l'àmbit dels comptadors de xarxa on és l'estàndard de facto. 

Això no obstant, no hi ha cap raonament teòric sobre el model de RRDtool ja que s'ha dissenyat per raons pràctiques. Per tant, entendre el funcionament de RRDtool és complicat, hi ha un nivell molt elevat per començar a fer-lo funcionar i molts conceptes no s'entenen perquè no estan ben definits. 

Per això ens proposem de compendre i formalitzar el model de RRDtool, que acabarem anomenar model de multiresolució, en la teoria dels sitemes d'informació. A més RRDtool és molt específic pel camp de comptadors de xarxa i volem oferir un model genèric per a altres àmbits.  






Regarding other implementations,
% \emph{RRDtool} can be seen as an specific case of \acro{MTSMS} and as
% a NoSQL system, although Oetiker \cite{rrdtool} has not commented
% it. However, regardless of the implementation backend, we have shown
% how a generic model for \acro{MTSMS} can be defined firmly rooted on
% \acro{DBMS} algebra theory.




%%% Local Variables:
%%% TeX-master: "main"
%%% End:
% LocalWords:  SGSTM
