\documentclass[paper=a4,parskip=half]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage[catalan]{babel}

\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning}


\title{Sistema integrat d'emmagatzematge multiresolució de sèries temporals}
\author{Aleix Llusà Serra -- DiPSE}

\begin{document}

\maketitle

\begin{abstract}
  Proposta d'emmagatzematge multiresolució de sèries temporals com a
  part d'un projecte que integri xarxes de sensors.
\end{abstract}


Les xarxes de sensors capturen dades de l'entorn, les quals s'han
d'emmagatzemar en bases de dades per a poder-les tractar
posteriorment. Hi ha models que descriuen com han de ser aquestes
bases de dades per a sèries temporals i esquemes que solucionen alguns
dels seus problemes. En aquest cas, es tracta d'integrar en una xarxa
de sensors un sistema d'emmagatzematge multiresolució per a sèries
temporals.




\section{Solució d'emmagatzematge multiresolució}

Una sèrie temporal és un conjunt de parelles de temps i valor que
provenen de l'evolució d'una variable al llarg del temps. 

A causa d'aquesta naturalesa de variable capturada al llarg del temps,
en l'adquisició i tractament de les sèries temporals apareixen
propietats problemàtiques que anomenem patologies.
Algunes d'aquestes patologies són:
\begin{itemize}
\item La sincronització dels rellotges en els diferents sistemes
  d'adquisició.
\item L'aparició de dades desconegudes perquè no s'han pogut adquirir
  o perquè són errònies.
\item La gestió d'una quantitat enorme de dades i que a més segueix
  creixent al llarg del temps.
\item L'operació amb dades que no s'han recollit de manera uniforme en
  el temps.
\end{itemize}


Els sistemes informàtics que saben emmagatzemar i tractar les sèries
temporals s'anomenen sistemes de gestió de bases de dades per a sèries
temporals (SGST). Els SGST han de saber gestionar les patologies de
les sèries temporals. 

Una solució per a aquestes patologies es pot aconseguir afegint
esquemes de multiresolució per a les sèries temporals. Aleshores
s'obtenen SGST específics anomenats SGST multiresolució (SGSTM).  La
multiresolució és un sistema d'emmagatzematge que selecciona la
informació prèviament a ser guardada i en descarta la que no es
considera important.


\begin{figure}[tp]
\centering
\input{imatges/model/mtsms-arquitectura_interna.tex}
\caption{Arquitectura dels SGSTM}
\label{fig:model:bdstm}
\end{figure}


Un SGSTM és una solució d'emmagatzematge per a sèries temporals a on,
resumint, la informació es distribueix mitjançant diferents
resolucions temporals.  Una sèrie temporal amb multiresolució és una
co\l.lecció de subsèries resolució, les quals acumulen temporalment
mesures en un buffer on són processades i finalment emmagatzemades
en un disc. El processament de les dades té per objectiu canviar els
intervals de temps entre les mesures per tal de compactar la
informació de les sèries temporals. D'aquesta manera, les sèries
temporals queden emmagatzemades en diferents resolucions temporals
distribuïdes en els discs.  L'arquitectura d'aquests sistemes es pot
veure a la figura~\ref{fig:model:bdstm}.

Els discs tenen la mida limitada i només poden contenir un nombre
fixat de mesures. Quan un disc no té més capacitat ha d'eliminar una
mesura. Com a conseqüència en un SGSTM la mida és fixada i les sèries
temporals hi queden emmagatzemades a trossos; és a dir com a subsèries
temporals.



\section{Implementació de la multiresolució}

Els SGSTM es poden implementar amb llenguatges d'alt nivell o de baix
nivell. Cadascun ofereix avantatges i inconvenients.

Els llenguatges d'alt nivell faciliten una implementació genèrica dels
SGSTM que n'incorpori totes les capacitats i sigui totalment flexible
a nous canvis i a treballar amb varis tipus de dades. Actualment
s'està desenvolupant amb Python una implementació genèrica dels SGSTM.


En baixar de nivell es fa més difícil aconseguir implementacions
genèriques i fidedignes als models lògics, però s'aconsegueix més
especificitat i eficiència en un determinat problema i àmbit d'aplicació.

RRDtool és una implementació de SGSTM específica per a sistemes
d'adquisició de dades que provenen bàsicament de comptadors. En
aquesta implementació específica, la multiresolució té un cert esquema
prefixat i té com a avantatges l'emmagatzematge eficient al disc de les
sèries temporals i una ràpida visualització.


\section{Proposta d'implementació}

Es poden realitzar altres implementacions específiques dels SGSTM, i
és en aquest sentit que proposem l'estudi i implementació d'un SGSTM
específic en xarxes de sensors. En aquest cas es tractaria d'una
implementació en baix nivell encastada en el sensor que podria seguir
l'esquema de la figura~\ref{fig:vhdl:resolucio}, el qual és per a cada
subsèrie resolució i per tant una sèrie multiresolució estaria formada
per múltiples subsèries d'aquestes.


\begin{figure}[htp]
\centering
\input{imatges/implementacio/sgstm_blocs_hard}
\caption{Esquema genèric d'una subsèrie resolució}
\label{fig:vhdl:resolucio}
\end{figure}

Aquesta implementació encastada es pot realitzar tant en un
microcontrolador que emmagatzemi els valors a la memòria seguint
l'esquema de multiresolució o bé en una FPGA aprofitant que l'esquema
multiresolució té una mida finita i és per tant implementable en
hardware. 

En aquesta implementació només fem referència a la part
d'emmagatzematge. La part de tractament i consultes s'hauria de
resoldre en un sistema a part, el qual tingués més flexibilitat en el
tractament de dades. Si bé caldria implementar un protocol per tal que
aquest sistema rebés les dades emmagatzemades, el qual de forma
senzilla es podria implementar com si la base de dades multiresolució
fos un perifèric de memòria.





%\section{Aplicacions de la multiresolució en el baix nivell}



\end{document}
