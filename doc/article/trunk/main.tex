\documentclass{scrartcl}
\usepackage[utf8]{inputenc}

\usepackage{todonotes}

\usepackage{url}

\usepackage[hmargin=2cm,vmargin=4cm,columnsep=7.5mm]{geometry}


\usepackage[cmex10]{amsmath}
\usepackage{amssymb}

\usepackage{tikz}
\usepackage{multicol}
\newcommand{\imatges}{../../imatges}


\newtheorem{definition}{Definition}
\DeclareMathOperator*{\nex}{next}
\DeclareMathOperator*{\prev}{prev}

\title{
  Model and requirements 
  for a Multiresolution Time Series\\
  Database Management System }


%[A. Llusà Serra; T. Escobet Canal, S. Vila-Marta]
\author
{
  {
    A.\ Llusà Serra,
    T.\ Escobet Canal
    and S.\ Vila-Marta
  }\\
  {\{aleix,sebas\}@dipse.upc.edu, teresa.escobet@upc.edu}\\
  {Department of Electronic System Design and Programming (DiPSE)}\\
  {Universitat Politècnica de Catalunya, 08242 Manresa, Spain}
}



\begin{document}


\maketitle


\begin{abstract}
The abstract goes here.
Manuscripts should be written in English and include a 100-300 word abstract.
\end{abstract}

{\bfseries Keywords:} 



\twocolumn



\section{Introduction}

This paper focuses on Data Base Management Systems (DBMS) that store
and treat data as time series. Traditional DBMS, as is ones derived
from relational model, are not adequate for these cases as they do not
have enough facilities to manage and retrieve time series
information.



Unió entre els dos camps d'anàlisis de sèries temporals i de models de SGBD. 

- Multitud d'algoritmes i metodologies. Problemes en el monitoratge.
- Model relacional és referent




Motivació: vam observar RRDtool [citar tfm?] i volíem entendre els conceptes i modelar-los per tal de veure'n la flexibilitat: RRDtool és molt restringit amb el tractament amb el temps i amb el tipus de dades que pot tractar.



** Paper structure **



\section{Requirements}

Requirements for a TSMS


* Temporal databases. Basades en esdeveniments. Data mining basat en sèries temporals definides per parelles temps-valor; calen TSMS [schmidt i dreyer] 

* Alta dimensió sèries temporals, cal reduir-la. Es conserven els segments de temps més interessants; multiresolució

* Multiresolució, diferents resolucions, es pot treballar amb més o menys dades segons convingui

* Cal saber canviar de resolució, exemple transformar dades periòdiques d'un mes a un any.

* Cal censurar les dades.

* Cal regularitzar les sèries temporals, o saber operar amb elles quan no són regulars. La no regularitat en el temps de mostreig pot provenir per exemple de jitter en mostrejos periòdics (problemes estudiats en el control) o d'un event-based sampling/control.


* Aggregates, una sèrie temporal pot estar mostrant diferent informació. ex: mitjana, màxim, valor al final del període, ...

* Les sèries temmporals tenen una metainformació que cal guardar en una base de dades relacional (localització, etiquetes de classificació, últim valor mesurat, unitats, etc.)

* Disseny del model de TSMS, aleshores veurem si una TSMS pot ser implementada com a camp d'una altra DBMS o si els DBMS no són capaços de manipular TS adequadament i cal implementar TSMS específics.

* Calendari, passa a segon terme. El temps es defineix com universal i constant (semblant a Unix Time Epoch). Aquests temps es pot convertir a calendari. Cal definir la interacció usuari/calendari amb temps universal.

* El temps és un nom donat al camp, qualsevol objecte que tingui la mateixa interfície que el temps pot funcionar. En el cas del valor pot ser qualsevol objecte, s'exemplifica amb reals per facilitar-ne la comprensió i per ser el més proper al time series analysis: statistical methods focused on sequences of values representing a single numeric variable [llibre-last].


* Representació: Entre dos punts de mesura, quin valor pren la sèrie temporal?.


* Xarxa de sensors, tsms distribuïda. Sensor dades recents, màquina grossa històrics. Quan es llança una consulta, es llança distribuïdament: si es té prou resolució es respon sinó s'envia la consulta al sensor. 




\section{The Model}


\input{model}







\section{Example}

Fer un exemple amb dades concretes a on es vegi com funciona el model.

Per exemple la figura de rellotges: entren unes dades amb període diari i s'observa com es resumeixen al cap de 2 dies i al cap de 5 dies amb interpolador mitjana o màxim.



\begin{figure}[tp]
\centering
\input{\imatges/model/locales/mtsdb-time_window.tex}
\caption{Example of different resolutions for a time series in a MTSDB}
\label{fig:model:window}
\end{figure}


Putting resolution and 'time subseries' together, in a multiresolution database a time series is stored in different resolution pieces. For example, we could have a time series stored with high resolution at recent times and with low resolution at older times. This example is illustrated in figure \ref{fig:model:window}. At the top there are three \emph{discs} with different number of \emph{measures} and at the bottom there is a timeline showing the time series chopped along time. For recent times, every 2 hours a \emph{measure} is stored in the third \emph{disc} which has a capacity of 24 \emph{measures} so that results in a 2 day piece. For mid times, every 1 day a  \emph{measure} is stored in the second \emph{disc} which has a capacity of 12 \emph{measures} so that results in a 12 days piece. For old times, every 5 days a  \emph{measure} is stored in the first \emph{disc} which has a capacity of 6 \emph{measures} so that results in a 30 days piece. 


\section{Related Work}


\todo{una mica d'intro}


Per una banda, hi ha alguns que exploren SGBD similars

On the one hand, there are DBMS with some properties for time series.

RRDtool from Oetiker \cite{rrdtool} is a professional database
management system extremely used by the free software community. It is
used in professional monitoring systems and its efficiency and speed
when processing time series is being improved. Nevertheless, it is
focused to a particular kind of data, gauges and counters, and it has
not general time series operations.

Cougar \cite{fung2}


% item[Cougar]
% \textcite{cougar,fung02} proposen Cougar com un SGBD per xarxes de sensors (\emph{sensor database systems}). El sistema té dues estructures \parencite{bonnet01}: una basada en relacions per les característiques dels sensors i una basada en seqüències per les dades dels sensors, les quals són sèries temporals.
% Les consultes es processen de manera distribuïda: cada sensor és un node amb capacitat de processament que pot resoldre una part de la consulta i fusionar-la amb les altres. D'aquesta manera es minimitza l'ús de comunicacions però l'estructura i estratègia de comunicació dels nodes esdevé una part crítica a configurar \parencite{demers03}.

SciDB i SciQL
% item[SciDB]
% \textcite{stonebraker09:scidb} estudien els SGBD científiques amb models  de dades basats en matrius. Estan desenvolupant SciDB \parencite{scidb}, un SGBD productiu i optimitzat per treballar amb matrius.


% item[SciQL]
% \textcite{kersten11} descriuen SciQL, un llenguatge per a SGBD científiques basades en matrius. Hi ha un prototip en desenvolupament de SciQL \parencite{sciql}.


On the other hand,

Per altra banda, hi ha les dades bitemporals que exploren històrics mitjançant intervals temporals. Hi ha hagut tot un recorregut d'investigació de com encaixar  els intervals temporals en els SGBD, finalment DDL2002 marca una fita.



\section{Conclusions and future work} 
The conclusion goes here.

Hem vist un model de MTSMS, quins requeriments tenen aquests sistemes i com es podria aplicar en un exemple. L'objectiu és emmagatzemar les sèries temporals de forma compacta i gestionar-les amb coherència amb la dimensió temporal. 

Hem vist el primer pas per definir el model de dades per a un MTSMS, en un futur caldrà definir-ne les operacions i un model de dades que agrupi propietats generals dels TSMS com poden ser la unió de sèries temporals, el càlcul d'itervals temporals, etc.

Amb aquesta recerca volem demostrar que l'ús de SGBD per a les sèries temporals facilitarà enormement el treball amb aquestes.
L'interès actual ens fa ser optimistes per aventurar que aviat podrem gestionar les sèries temporals adequadament amb els SGBD.



\section*{Acknowledgements}

This work was supported by Universitat Polit\`{e}cnica de Catalunya (UPC).



\bibliographystyle{plain}
\begin{thebibliography}{99}


\bibitem{llusa11:tfm} A.\ Llusà Serra, ``Estudi i modelització
  dels SGBD Round Robin pel tractament de sèries temporals''
  (catalan), Master Thesis, Universitat Politècnica de Catalunya,
  2011. \todo{no citat}

\bibitem{llusa12:ptd} A.\ Llusà Serra, ``Disseny i modelització
  d'un sistema de gestió multiresolució de sèries temporals''
  (catalan), Thesis Proposal, Universitat Politècnica de Catalunya,
  2012. \todo{no citat}


\bibitem{rrdtool} T.\ Oetiker, ``RRDtool, Round Robin database'',
  1998--2011.  \url{http://oss.oetiker.ch/rrdtool/}


\bibitem{fung02} W.\ Fu Fung, D.\ Sun and J.\ Gehrke, ``COUGAR: the
  network is the database'', Proceedings of the 2002 ACM SIGMOD
  international conference on Management of Data, Madison, 4--6 June
  2002, pp. 621--621. doi: 10.1145/564691.564775



\end{thebibliography}




\end{document}




%%% Local Variables: 
%%% ispell-local-dictionary: "british"
%%% End: 