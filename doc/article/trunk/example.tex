\section{Example}

Next we show an example database for a real time series data. Original
data is shown in figure~\ref{fig:exemple:original} for a period of one
year and a half. In this plot we can see that there is missing
data, some outlying observations, and there are 146709 stored values.


\begin{figure}[tp]
\centering
\includegraphics[width=12cm]{\experiment/original.pdf}
\caption{Example of a time series data}
\label{fig:exemple:original}
\end{figure}



\begin{figure}[tp]
\centering
\input{\experiment/mtsdb-time_window.tex}
\caption{Schema of different resolutions in a MTSDB}
\label{fig:exemple:window}
\end{figure}


In a multiresolution time series database (MTSDB) a time series is
stored in different resolution pieces, that is in different 'time
subseries'.  In this example we store the time series with high
resolution at recent times and with low resolution at older times. The
schema of this example is illustrated in figure
\ref{fig:exemple:window}. At the top there are four \emph{discs} with
different number of \emph{measures} and at the bottom there is a
timeline showing the time series chopped along time. For recent times,
every 5 hours a \emph{measure} is stored in the fourth \emph{disc}
which has a capacity of 24 \emph{measures} so that results in a 5 day
piece. For low mid times, every 2 days a \emph{measure} is stored in
the third \emph{disc} which has a capacity of 20 \emph{measures} so
that results in a 40 days piece. For high mid times, every 15 days a
\emph{measure} is stored in the second \emph{disc} which has a
capacity of 12 \emph{measures} so that results in a 180 days
piece. For old times, every 50 days a \emph{measure} is stored in the
first \emph{disc} which has a capacity of 12 \emph{measures} so that
results in a 600 days piece.


In order to illustrate this example all the resolution discs are
consolidated by zohe arithmetic mean interpolation function
(defined in sec.~\ref{sec:model:interpolador}) owing to its simplicity. The
resulting time series in the MTSDB are shown in
figure~\ref{fig:exemple:4mrd}, where each graphic corresponds to a
resolution disc's time series. We can see that arithmetic mean
interpolation function has filled missing data and filtered outlayers
observations, and the number of stored values has been reduced to
92. However, now there is only high resolution for recent data. Note
that October 18th 2011 corresponds to the 'now ' point showed in
figure \ref{fig:exemple:window} and May 2010 corresponds to the oldest
data known.

\begin{figure}[tp]
\centering
\includegraphics[width=12cm]{\experiment/isense2.pdf}
\caption{Different resolutions for a time series in a MTSDB}
\label{fig:exemple:4mrd}
\end{figure}

We can easily have a bigger MTSDB by doubling the capacity of
resolution discs. Then we have 184 stored values and the resulting
time series are shown in figure~\ref{fig:exemple:4mrdbigger}.  Now we
can see preserve more historic but no more resolution. Although plots seem
smoother, this is only a visualisation issue owing to the fact we are
showing more points in the same width.



\begin{figure}[tp]
\centering
\includegraphics[width=12cm]{\experiment/isense3.pdf}
\caption{Different resolutions for a time series in a bigger MTSDB}
\label{fig:exemple:4mrdbigger}
\end{figure}


The union of the four time subseries is shown in
figure~\ref{fig:exemple:4mrdtot}. In the intervals where time
subseries overlap, the one with the highest resolution is
chosen. Therefore we obtain a piecewise function where each piece has
a different resolution. Comparing this figure with the original
figure~\ref{fig:exemple:original}, as we have applied mean
interpolation it resembles an incremental low-pass filter. Concluding,
we have shown that with this attribute interpolation function we want
not an approximation to the original function but an extraction of
some interesting information.



\begin{figure}[tp]
\centering
\includegraphics[width=12cm]{\experiment/isense3-tot.pdf}
\caption{All time series united from the bigger MTSDB}
\label{fig:exemple:4mrdtot}
\end{figure}



%%% Local Variables:
%%% TeX-master: "main"
%%% ispell-local-dictionary: "british"
%%% End:
